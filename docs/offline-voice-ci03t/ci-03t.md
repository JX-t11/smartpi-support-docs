---
title: 离线语音模组 CI-03T
icon: material/microphone
description: 新一代高性能神经网络离线语音模组 CI-03T 完整开发指南。
---

# 离线语音模组 CI-03T

## 快速规格一览

| 参数 | CI-03T1（单麦） | CI-03T2（双麦） |
|------|----------------|----------------|
| 主控芯片 | CI1302 | CI1302 |
| 综合识别率 | 95% | 95% |
| 供电电压 | 3.6-5.5V | 3.6-5.5V |
| 词条数 | 300 | 300 |
| Flash | 2M | 2M |
| AEC（回声消除） | ✓ | ✓ |
| 双麦算法 | ✗ | ✓ |
| 适用环境 | 中噪声环境 | 高噪声环境 |
| 待机电流 | ~60mA | ~60mA |
| 工作电流 | >500mA (4Ω喇叭) | >500mA (4Ω喇叭) |
| 功放功率 | 2.4W@5V4Ω | 2.4W@5V4Ω |
| 封装 | SMD22/DIP22 | SMD22/DIP22 |
| 尺寸 | 21×15mm | 21×15mm |

### 高级功能支持

| 功能 | 支持情况 |
|------|---------|
| 自然说 | ✓ |
| 声纹识别 | ✓ |
| 声源定位 | ✓ |
| 哭声检测 | ✓ |
| 鼾声检测 | ✓ |
| 文字转语音(TTS) | ✓ |
| 自学习 | ✓ |
| 支持语言 | 中/英/日/韩（其他语种可定制） |
| 平台能力 | 支持生成固件 |

---

## 定位与适用场景
- **定位**：新一代高性能神经网络离线语音模组，集成 BNPU V3 + CPU，可单独作为语音主控使用。
- **适用场景**：

    - **智能家电**：风扇、晾衣架、加湿器、茶壶等需要语音控制的产品。
    - **智能照明**：台灯、吸顶灯、氛围灯。
    - **智能门锁/安防类**：门锁、门磁、门禁面板。
    - **智能玩具与小家电**：故事机、互动玩偶、小型清洁类设备等。
    - **其他**：86 盒、语音面板等无需联网即可响应的产品。
- **能力特点**（摘自官网特性）：

    - 集成 BNPU V3，支持 DNN / TDNN / RNN 等神经网络及卷积运算。
    - 支持语音识别、声纹识别、语音增强、语音检测等多种语音 AI 能力。
    - 内置 Audio Codec + Class AB 功放，可直接驱动喇叭。
    - 内置 PMU、电源管理与多路 UART / IIC / IIS / PWM / GPIO / PDM 等外设接口。
- **硬件版本**：

    - **普通双咪版本**：适合常规双麦克风场景，内部不支持 AEC。
    - **单咪 AEC 版本**：单麦克风方案，内部支持 AEC 功能，适合空间有限但需要回声抑制的场景。

> 以上信息主要参考：官方帮助中心中 CI-03T 模块的介绍页面。

## 模组概述与规格参数

CI-03T 是我司研发的新一代高性能神经网络智能语音模组，集成了脑神经网络处理器 BNPU V3 和 CPU 内核，系统主频可达 220MHz，内置高达 640KByte 的 SRAM，集成 PMU 电源管理单元，高性能低功耗 Audio Codec+ClassAB 功率放大器和多路 UART、IIC、IIS、PWM、GPIO、PDM 等外围控制接口；支持 DNN\TDNN\RNN 等神经网络及卷积计算，支持语音识别、声纹识别、语音增强、语音检测等功能；以及简单友好的客制化工具。能快速应用于智能家居，智能小家电，86 盒，玩具，灯具等需要语音操控的产品（例如风扇、智能门锁、扫地机、智能台灯、智能空调、智能茶壶等产品）。

**该模组分为两个版本：普通双咪版本，单咪 AEC 版本；它们的硬件区别请查看引脚定义（备注：在实际的智能公元编程时，请认准版本的对应）**

**版本选择建议**：

- **普通双咪版本**：适合空间充足、需要双麦克风降噪的场景，如智能台灯、智能风扇等。通过双麦克风阵列实现方向性拾音和噪声抑制。
- **单咪 AEC 版本**：适合空间受限、需要回声消除的场景，如智能门锁、86 盒等。单麦克风配合内部 AEC 算法，可有效抑制喇叭播放声音对麦克风的干扰。

![CI-03T 模组外观](http://help.aimachip.com/uploads/offline_ci03t/images/m_bf52517f7d9b51ee6d7da66ccae763e1_r.png)

### 1. 关键特性与资源

| 指标分类 | 参数项 | 规格/数值 | 备注 |
| --- | --- | --- | --- |
| **核心性能** | AI 运算内核 | BNPU V3 神经网络加速器 | 支持 DNN / TDNN / RNN 等 |
| | CPU | 32 位高性能 CPU，最高 220MHz | 带 DSP 扩展、单周期乘法器 |
| **存储资源** | SRAM | 640KB SRAM | 片上内存 |
| | Flash | 2MB Flash | 片上程序 / 资源存储 |
| | eFuse | 512bit eFuse | 配置 / 安全相关 |
| **音频接口** | Codec | 内置高性能低功耗 Audio Codec | 双路 ADC + 单路 DAC |
| | 采样率 | 8 / 16 / 24 / 32 / 44.1 / 48 kHz | 参考官网"特性"章节 |
| | ALC | 支持 Automatic Level Control (ALC)功能 | 自动电平控制 |
| | 扩展通路 | 1 路 IIS | 可外接音频功放等 |
| | AEC 能力 | 单咪 AEC 版本支持内部 AEC | 普通双咪版本不支持内部 AEC |
| | 功放 | 内置 ClassAB 功率放大器 | 可直接驱动喇叭 |
| **电源/功耗** | 供电范围 | 3.6V ~ 5.5V（典型 5V） | 内置 3 路 LDO，无需外置电源芯片 |
| | 电流 | 以规格书标称值为准 | 建议参考最新版本规格书中的典型/最大电流参数 |
| **外设与接口** | UART | 3 路 UART，最高 3M 波特率 | 其中一路常用于日志/烧录 |
| | IIC | 1 路 IIC | 可外接传感器等外设 |
| | IIS | 1 路 IIS 音频扩展通路 | 可外接音频功放等 |
| | PWM | 5 路 PWM | 可直接用于灯控、电机等 |
| | PDM | 支持 PDM 接口 | 可外接数字麦克风 |
| | ADC | 1 路 10bit SAR ADC，最高 1MHz 采样 | 电压检测、按键等 |
| | GPIO | 9 个普通 GPIO | 部分 GPIO 支持 5V 宽压输入，可配置中断、上下拉 |
| | Timer | 4 组 32-bit timer | 定时器功能 |
| | Watchdog | 1 组独立看门狗（IWDG）+ 1 组窗口看门狗（WWDG） | 系统保护 |
| **环境与可靠性** | 工作温度 | 以规格书给出的工作温度范围为准 | 典型为工业级温度范围，具体请参见规格书说明 |
| | EMC/ESD | 支持 FCC；ESD 接触放电 4kV | 参考官网 EMC/ESD 描述 |
| | 环保认证 | 支持 ROHS 和 REACH 测试 | 采用环保材料 |
| **固件与保护** | 升级方式 | 支持 UART 升级 | 串口烧录和升级 |
| | 固件保护 | 支持固件保护功能 | 防止固件被非法读取 |

> 数值与能力请以官方 CI-03T 规格书及芯片手册为最终依据，此处为结构化摘要。

### 2. 系统架构

CI-03T 模组采用高度集成的系统架构，主要包含以下功能模块：

- **音频处理**：支持模拟 MIC、Line-in 输入（双路 ADC）、DMIC（数字麦克风）、DAC 输出、IIS 扩展接口
- **CPU 核心**：32 位 RISC 处理器，主频 220MHz，支持 DSP 扩展
- **AI 加速**：BNPU V3 神经网络处理器，支持 DNN\TDNN\RNN 等神经网络及卷积运算
- **连接接口**：3 路 UART、1 路 IIC、5 路 PWM、9 个 GPIO、1 路 IIS、PDM 接口
- **电源管理**：内置 3 路 LDO（Analog LDO、Core LDO 1V1、IO LDO 3V3），支持 5V 单电源输入（3.6V-5.5V）
- **存储系统**：640KB SRAM、2MB Flash（SIP）、512bit e-Fuse
- **系统功能**：4 组 32-bit Timer、2 路 GP DMA、1 路 SAR ADC、2 组看门狗

模组可连接多种外部设备：3.3V/5V 主控处理器、IOT 连接（WiFi/蓝牙）、IIC 外设、红外控制、灯光控制、电机控制、5V 宽压 GPIO、按键输入、模拟信号采样等。

### 3. 外观尺寸与封装

- 模组整体外观与尺寸可参考官方 CI-03T 帮助页面中的"外观尺寸"章节：

    - ![外观尺寸图](http://help.aimachip.com/uploads/offline_ci03t/images/m_bf52517f7d9b51ee6d7da66ccae763e1_r.png)
    - ![尺寸示意图](http://help.aimachip.com/uploads/offline_ci03t/images/m_6b07ac21fc49707d34b56ed841b48d27_r.png)
    - ![焊盘封装图](http://help.aimachip.com/uploads/offline_ci03t/images/m_09812eb7c50dd6274c5c569e0b7175d0_r.png)
- 尺寸图与焊盘封装图可在封装图文档及规格书的机械尺寸章节中查到，包含长宽高、焊盘间距等信息。
- 建议在本仓库中统一维护一份 **CI-03T 封装与尺寸图**（如 PNG/SVG），并在此处以图片形式引用，方便结构/硬件工程师查阅。

## 硬件设计建议

以下设计建议基于 CI-03T 模组的特性，旨在帮助硬件工程师设计出性能稳定、识别率高的产品。

### 1. 电源设计
- **独立供电**：建议使用独立的 LDO 或 DC-DC + LDO 为模组供电，避免与其他大电流设备（如电机、WiFi）共用电源网络，防止电源纹波干扰。
- **滤波电容**：在 VCC 引脚附近紧挨放置 10uF + 100nF 的滤波电容。
- **接地与布线**：

    - 数字地与模拟地在单点汇合，避免大电流回流经过音频前端。
    - 电源走线尽量短且线宽充足。

### 2. 声学设计 (MIC / SPK)
- **麦克风布局**：

    - 走线必须采用 **差分走线**，且包地处理。
    - 麦克风孔应有良好的密封性，避免漏音和回声。
    - 麦克风与喇叭之间应有良好的声学隔离（如使用减震棉），防止自激啸叫。
    - 麦克风距离声源（人嘴）的路径应尽量短且无遮挡。
- **喇叭驱动**：

    - 功放电路应远离麦克风电路。
    - 注意喇叭磁体对天线（如有）的影响。
- **进一步设计建议**：

    - 结构声学设计上，可参考官方提供的《产品结构声学规范》，其中包含模组在不同腔体、开孔方式下的推荐做法及注意事项。
    - 喇叭功率、阻抗以及咪头灵敏度的选择，可参考官方《喇叭和咪头选型推荐》文档，并结合整机响度、失真和成本要求进行评估。

### 3. 接口与防护
- **UART/IO**：预留 TX/RX 测试点以便后续升级调试；推荐在靠近模组处放置串口排针或测试座。
- **ESD 防护**：

    - 对外接口（麦克风、喇叭、按键、触摸接口等）建议放置 ESD 器件。
    - 外部走线靠近接口处注意增加地过孔与保护电阻/电容。


## 开发环境搭建与工具准备
1. **开发工具包 (SDK)**：

    - 获取途径：联系 FAE 或访问开发者中心下载 CI-03T 最新 SDK（参考 `ci_03t_kfb.md` 与“开发包”网页）。
    - 内容包含：编译器、烧录工具、调试助手、示例代码、串口调试脚本等。
    - ![开发包结构图](http://help.aimachip.com/uploads/offline_ci03t/images/m_f87a52316832d5e25902b488480e1085_r.jpg)
    - ![开发包界面图](http://help.aimachip.com/uploads/offline_ci03t/images/m_c3cff0c1f8d8eead0014ddb32609c4dd_r.png)
2. **语音配置平台（智能公元平台）**：

    - **平台地址**：访问智能公元平台（https://www.aimachip.com/ 或相关开发者入口）
    - **主要功能**：

        - 编辑词条（唤醒词、命令词）
        - 设置回复语（TTS 语音播报内容）
        - 配置唤醒和识别阈值
        - 生成语音资源包（`.bin` 或 `.hex` 格式）
    - **输出文件**：通常生成 `.bin` 或 `.hex` 格式的语音资源包，用于与主固件一起烧录
    - **版本对应**：在智能公元平台配置时，需选择对应的模组版本（普通双咪版本或单咪 AEC 版本）

### 高级功能配置指南

CI-03T支持深度降噪、声纹识别等高级功能，但需要正确配置才能启用：

**启用高级功能的步骤：**

1. **选择Pro模型**
    - 在应用场景选择中，必须选择带有"Pro"后缀的模型
    - 只有Pro模型支持深度降噪、声纹识别等高级功能
    - 静音环境模型及普通模型不支持这些功能

![Pro模型选择](./img/cc2f8622.jpg)

2. **根据使用环境选择合适的Pro模型**
    - **普通话通用Pro**：适用于一般安静或嘈杂环境
    - **中文烟机通用Pro**：专为高噪声环境优化，开启深度降噪效果最佳

![普通话通用Pro](./img/a3bbbf3e.jpg) ![中文烟机通用Pro](./img/7a64dea5.jpg)

3. **功能配置**
    - 选择Pro模型后，在产品特性中即可选择"语音识别+深度降噪"等高级功能
    - 确保模块型号选择正确（CI-03T）

![功能配置界面](./img/23fb3258.jpg)

**注意事项：**

- 高级功能仅在Pro模型中可用，其他模型无法选择这些选项
- 噪声较大的环境建议使用"中文烟机通用Pro"以获得最佳降噪效果
- 配置完成后需要重新生成固件并烧录到模组
3. **硬件工具**：

    - USB 转 TTL 串口模块（用于调试与日志打印）。
    - 专用烧录器（如量产治具时使用），参考“烧录资料”中的烧录文档与工具说明。

## 固件烧录与升级指南

### 烧录资料概览

烧录相关的官方资料大致分为四类：

- **CH340 驱动**：用于安装 USB 转串口驱动，使 PC 能识别烧录转接板的虚拟串口。
- **烧录软件**：官方提供的模块烧录工具，负责通过串口将固件和语音资源写入 CI-03T。
- **烧录文档**：图文说明烧录环境准备、线序连接、软件参数配置以及完整烧录步骤。
    - ![CI-03T 和转接板接线图](http://help.aimachip.com/uploads/offline_ci03t/images/m_9c6bcc8adff80bda8361fbfc8f947732_r.jpg)
- **出厂固件**：官方提供的出厂缺省固件压缩包，可在调试失败时恢复到出厂状态。

详细的附件名称和下载地址已在文末附录中给出，可在离线环境下对照查看。

### 基本烧录流程
1. **硬件连接**：将模组 UART_TX/RX 与 PC 串口工具连接好，保证 GND 相连。
2. **进入烧录模式**：

    - 方式 A：拉低 BOOT 引脚后上电（具体脚位见原理图/规格书）。
    - 方式 B：参考烧录文档，通过串口发送“进入 Boot”命令。
3. **执行烧录**：

    - 打开官方烧录软件，选择固件文件与端口。
    - 点击“开始烧录”，等待进度完成。
4. **验证结果**：

    - 复位模组，对着麦克风说出唤醒词，观察串口日志与语音播报是否正常。

### 词表更新
- 一般情况下，仅需更新语音资源区（词表与提示音），无需全片擦除，速度较快。
- 建议在量产前固定一套“固件版本 + 词表版本”组合，在后文“质检与维护”中登记。

## 外设开发与应用示例

### 场景 1：继电器控制 (开关灯)
- **逻辑**：识别到“打开灯光” -> GPIO 输出高电平 -> 继电器吸合。
- **代码片段**：
    ```c
    // 伪代码示例
    void on_voice_command(int cmd_id) {
        if (cmd_id == CMD_LIGHT_ON) {
            gpio_set_level(PIN_RELAY, 1);
            play_voice("灯已打开");
        }
    }
    ```

### 场景 2：串口透传 (对接主控 MCU)
- **逻辑**：CI-03T 作为语音协处理器，识别成功后通过串口发送 ID 给主控 MCU。
- **协议示例**：`0xAA 0x55 [CMD_ID] [DATA_LEN] [DATA] [CHECKSUM]`（具体字段与校验请参考协议文档或示例工程）。

### 场景 3：PWM 控制（调光/调速）

- **逻辑**：识别到"调亮灯光"或"调快风扇" -> PWM 输出不同占空比 -> 控制亮度或速度。
- **代码片段**：
    ```c
    // 伪代码示例
    void on_voice_command(int cmd_id) {
        if (cmd_id == CMD_LIGHT_BRIGHT) {
            pwm_set_duty(PIN_PWM_LIGHT, 80);  // 80% 占空比
            play_voice("灯光已调亮");
        }
    }
    ```
- **应用场景**：智能台灯调光、风扇调速、电机控制等需要连续调节的场景

### 场景 4：小语种开发与定制
- **概述**：CI-03T 支持多语言模型开发，方便方案商在无语料情况下进行初步模型制作和样品测试。
- **注意事项**：

    - **模块选型**：CI-03T（推荐）、CI-33T。
    - **词条数量**：建议 <30 条；词条过多容易导致相近词误识别，且验收/优化时间增加。
    - **词条要求**：命令词至少 4 个音节，尤其是唤醒词；选择发音差异明显的词，避免相近发音误识。
    - **测试标准**：声音平稳、语速正常，避免刻意慢/快。
    - **特别提醒**：选词质量直接影响项目落地；若客户词条在训练集中少见，可能需提供至少 50 人语料进行迭代（周期约 3 周）。
- **支持语言**：截止 2024 年 8 月，支持中、英、日、韩、西班牙、德、俄、泰、越南、阿拉伯语（不支持阿拉伯数字）；其他语言需商务确认，周期约 3 个月。
- **开发流程**：

    1. 注册智能公元平台账号，熟悉中文固件开发流程。
    2. 与客户确定词条，提供至少 4 人测试语料（2男2女，干净无底噪）。
    3. 使用中文固件开发完成后，替换为对应小语种的语言模型、声学模型和 cmd_info 文件。
- **验收标准**：![验收标准表格](http://help.aimachip.com/uploads/offline_ci03t/images/m_9a4d7abf5e7b6dbfa505e19d3420e61e_r.png)
    - 注：命令词区分度高可大幅减少误识，利于量产。
- **进一步参考**：完整开发须知见附录 G 的附件 `小语种识别方案开发须知-V2.0-240929.pdf`。

## 参考资源列表

本章节已经整合了官方文档中的关键信息，下面列出与 CI-03T 相关的主要资料类型，方便在需要时进一步查阅：

- **CI-03T 模块功能与特性总览文档**：包含外观照片、外形尺寸图、特性列表、系统架构等。
- **CI1302 芯片中/英文手册**：PDF 格式，包含寄存器说明、电气参数、时序图等。
- **CI-03T 模块烧录资料**：CH340 安装包、模块烧录软件包、烧录指引文档、转接板接线图、出厂固件包等。
- **CI-03T 开发包与示例工程**：最新版本和旧版本开发包压缩包、示例工程结构说明。
- **产品结构声学规范文档**：对整机结构、开孔方式、腔体设计对识别率的影响进行说明。
- **喇叭和咪头选型推荐文档**：列出推荐的喇叭与麦克风参数范围及选型建议。
- **小语种开发训练模型相关说明**：小语种方案须知、采集环境与方法、数据存储示例等。
- **CI-03T 适配图形化编程平台的说明**：如何在米思奇图形化环境中调用语音指令、与主控联动等。

## 参考链接

### 主要入口
- [CI-03T 官方帮助中心](https://help.aimachip.com/docs/offline_ci03t)
- [CI-03T 主页](https://help.aimachip.com/docs/offline_ci03t/offline_ci03t-1eboja4efbc49)

### 基本资料
- [基本资料（总览）](https://help.aimachip.com/docs/offline_ci03t/offline_ci03t-1gbdvdh3tnafj)
- [原理图](https://help.aimachip.com/docs/offline_ci03t/offline_ci03t-1gbdve90ls902)
- [规格书](https://help.aimachip.com/docs/offline_ci03t/offline_ci03t-1gbdveflfoj5l)
- [封装图](https://help.aimachip.com/docs/offline_ci03t/offline_ci03t-1gbdvela2anvd)

### 烧录资料
- [烧录资料（总览）](https://help.aimachip.com/docs/offline_ci03t/CI_03t_02)
- [CH340驱动](https://help.aimachip.com/docs/offline_ci03t/offline_ci03t-1gbdvfdgcbim0)
- [烧录软件](https://help.aimachip.com/docs/offline_ci03t/offline_ci03t-1gbdvfoifmpdr)
- [烧录文档](https://help.aimachip.com/docs/offline_ci03t/offline_ci03t-1gbdvfuk8pkh3)
- [出厂固件](https://help.aimachip.com/docs/offline_ci03t/offline_ci03t-1gbdvg4a45tfk)
- [串口调试](https://help.aimachip.com/docs/offline_ci03t/offline_ci03t-1gbdvgnpjl0gq)

### 芯片资料
- [芯片资料](https://help.aimachip.com/docs/offline_ci03t/CI_03t_01)
- [CI1302 芯片手册](http://help.aimachip.com/docs/chip/chip-1eec6hndetl5k)

### 开发包
- [开发包（最新版本）](https://help.aimachip.com/docs/offline_ci03t/offline_ci03t-1gbdvhie6a97l)
- [CI-03T开发包（旧版本）](https://help.aimachip.com/docs/offline_ci03t/ci_03t_kfb)
- [产品结构声学规范](https://help.aimachip.com/docs/offline_ci03t/offline_ci03t-1gbdvi4p27ktg)
- [喇叭和咪头选型](https://help.aimachip.com/docs/offline_ci03t/offline_ci03t-1gbdviat8vfje)

### 小语种开发训练模型
- [小语种开发训练模型（总览）](https://help.aimachip.com/docs/offline_ci03t/offline_ci03t-1gblf4s9m4olo)
- [开发方案须知](https://help.aimachip.com/docs/offline_ci03t/offline_ci03t-1gblf6ei1l0hn)
- [训练数据采集环境及方法说明](https://help.aimachip.com/docs/offline_ci03t/offline_ci03t-1gblfaml16q5d)
- [数据储存相关示例文档](https://help.aimachip.com/docs/offline_ci03t/offline_ci03t-1gblfc30gutt9)

### 图形化编程
- [CI-03T适配米思奇图形化编程](https://help.aimachip.com/docs/offline_ci03t/su_03t_MSQ)
- [米思齐图形化编程](http://help.aimachip.com/docs/block/)

---

## 附录：官方资料详细说明

本附录按照官方帮助中心的目录结构，详细列出 CI-03T 相关的所有资料、附件和链接，便于快速查找和下载。

### 第一部分：基本资料

#### 附录 A：基本资料（总览）

- **网页链接**：[基本资料](https://help.aimachip.com/docs/offline_ci03t/offline_ci03t-1gbdvdh3tnafj)
- **内容说明**：包含原理图、规格书、封装图等基本资料的汇总
- **图片预览**：

    - ![基本资料总览](https://help.aimachip.com/uploads/offline_ci03t/images/m_acf458f4a6f4c474b13a63033fb9a095_r.png)
- **官方附件**：

    - `01、模块基本资料.rar`

#### 附录 B：原理图

- **网页链接**：[原理图](https://help.aimachip.com/docs/offline_ci03t/offline_ci03t-1gbdve90ls902)
- **内容说明**：包含总原理图、主芯片和晶振电路图、功放电路图、麦克风电路图、模块外设引脚图等电路设计细节
- **图片预览**：

    - ![总原理图](https://help.aimachip.com/uploads/offline_ci03t/images/m_ab34bc506ec20cd9ddb2571935de8d69_r.png)
    - ![主芯片和晶振电路图](https://help.aimachip.com/uploads/offline_ci03t/images/m_a84c48b7757771402ed6dd9462cb5818_r.png)
    - ![功放电路图](https://help.aimachip.com/uploads/offline_ci03t/images/m_a5e6667f51c195bfd8177499a64105b4_r.png)
    - ![麦克风电路图](https://help.aimachip.com/uploads/offline_ci03t/images/m_8537ca0c2e95b78673d0134985ef7522_r.png)
    - ![模块外设pin脚图](https://help.aimachip.com/uploads/offline_ci03t/images/m_96ea82933d3101e0450678ead6608858_r.png)
- **官方附件**：

    - `CI-03T-V1.3-原理图.pdf`

#### 附录 C：规格书

- **网页链接**：[规格书](https://help.aimachip.com/docs/offline_ci03t/offline_ci03t-1gbdveflfoj5l)
- **内容说明**：提供 CI-03T 模块的详细电气参数、机械尺寸、接口定义、工作温度范围等规范
- **官方附件**：

    - `CI-03T-V1.3-模组规格书.pdf`

#### 附录 D：封装图

- **网页链接**：[封装图](https://help.aimachip.com/docs/offline_ci03t/offline_ci03t-1gbdvela2anvd)
- **内容说明**：提供 CI-03T 模块的 PCB 封装文件，包含焊盘尺寸、间距等机械结构信息
- **官方附件**：

    - `CI-03T-封装图.PCB`

### 第二部分：烧录资料

#### 附录 E-0：烧录资料（总览）

- **网页链接**：[烧录资料](https://help.aimachip.com/docs/offline_ci03t/CI_03t_02)
- **内容说明**：烧录相关资料的汇总入口，包含 CH340 驱动、烧录软件、烧录文档、出厂固件、串口调试等
- **官方附件**：

    - `02、模块烧录资料.rar`

#### 附录 E：CH340 驱动

- **网页链接**：[CH340驱动](https://help.aimachip.com/docs/offline_ci03t/offline_ci03t-1gbdvfdgcbim0)
- **作用说明**：为烧录转接板提供 USB 转串口驱动，使 PC 能够识别相应的 COM 口，是烧录前的必要准备工作
- **官方附件**：

    - `01、CH340安装包.rar`

#### 附录 F：烧录软件

- **网页链接**：[烧录软件](https://help.aimachip.com/docs/offline_ci03t/offline_ci03t-1gbdvfoifmpdr)
- **作用说明**：官方提供的模块烧录工具，用于通过串口将固件和语音资源烧录到 CI-03T 模块中
- **官方附件**：

    - `02、模块烧录软件.rar`

#### 附录 G：烧录文档

- **网页链接**：[烧录文档](https://help.aimachip.com/docs/offline_ci03t/offline_ci03t-1gbdvfuk8pkh3)
- **作用说明**：提供完整的烧录流程说明，包括环境准备、转接板接线、软件配置步骤、进入烧录模式的方法等
- **图片预览**：

    - ![CI-03T 和转接板接线图](https://help.aimachip.com/uploads/offline_ci03t/images/m_9c6bcc8adff80bda8361fbfc8f947732_r.jpg)
- **官方附件**：

    - `CI-03T烧录指引文档V1.2.docx`
    - `01A、CI-03T和转接板接线图；版本2306201041.jpg`

#### 附录 H：出厂固件

- **网页链接**：[出厂固件](https://help.aimachip.com/docs/offline_ci03t/offline_ci03t-1gbdvg4a45tfk)
- **作用说明**：官方提供的出厂缺省固件压缩包，可在调试失败或需要恢复出厂状态时使用
- **官方附件**：

    - `04、模块出厂固件.rar`

#### 附录 I：串口调试

- **网页链接**：[串口调试](https://help.aimachip.com/docs/offline_ci03t/offline_ci03t-1gbdvgnpjl0gq)
- **作用说明**：提供串口调试软件，用于在开发和测试阶段监控 CI-03T 的串口输出和日志，便于问题排查
- **官方附件**：

    - `05、串口调试软件.rar`

### 第三部分：芯片资料

#### 附录 J：芯片资料

- **网页链接**：[芯片资料](https://help.aimachip.com/docs/offline_ci03t/CI_03t_01)
- **内容说明**：CI1302 芯片的详细技术手册，包含寄存器说明、电气参数、时序图、外设接口定义等
- **相关链接**：[CI1302 芯片手册](http://help.aimachip.com/docs/chip/chip-1eec6hndetl5k)
- **官方附件**：

    - `CI1302中文版芯片手册 V0.7.pdf`
    - `CI1302英文版芯片手册 V1.2.pdf`

### 第四部分：开发包

#### 附录 K：开发包（最新版本）

- **网页链接**：[开发包](https://help.aimachip.com/docs/offline_ci03t/offline_ci03t-1gbdvhie6a97l)
- **内容说明**：最新的 CI-03T 开发包，包含 SDK、示例工程、编译器、调试工具等完整的开发环境
- **图片预览**：

    - ![开发包结构图](http://help.aimachip.com/uploads/offline_ci03t/images/m_f87a52316832d5e25902b488480e1085_r.jpg)
    - ![开发包界面图](http://help.aimachip.com/uploads/offline_ci03t/images/m_c3cff0c1f8d8eead0014ddb32609c4dd_r.png)
- **官方附件**：

    - `CI-03T开发包；版本V2.1.0.rar`

#### 附录 L：CI-03T 开发包（旧版本）

- **网页链接**：[CI-03T开发包（旧版本）](https://help.aimachip.com/docs/offline_ci03t/ci_03t_kfb)
- **内容说明**：旧版本的 CI-03T 开发包，用于历史项目兼容和参考
- **图片预览**：

    - ![旧开发包截图](http://help.aimachip.com/uploads/offline_ci03t/images/m_21972d8c864d512cb0507997b667b0b2_r.png)
- **官方附件**：

    - `03、CI-03T开发包；版本2411201614.zip`

#### 附录 M：产品结构声学规范

- **网页链接**：[产品结构声学规范](https://help.aimachip.com/docs/offline_ci03t/offline_ci03t-1gbdvi4p27ktg)
- **内容说明**：

    - 说明不同整机结构、开孔方式、声学腔体设计对语音识别性能和误触发率的影响
    - 给出推荐的 MIC 开孔位置、开孔直径范围、喇叭与麦克风之间的距离和隔离方式等
    - 对整机结构设计具有重要指导意义
- **官方附件**：

    - `04、产品结构声学结构规范.rar`

#### 附录 N：喇叭和咪头选型

- **网页链接**：[喇叭和咪头选型](https://help.aimachip.com/docs/offline_ci03t/offline_ci03t-1gbdviat8vfje)
- **内容说明**：

    - 列出推荐的喇叭功率、阻抗范围以及麦克风灵敏度、信噪比等指标
    - 提示在不同应用场景下（如玩具、小家电、门锁等）的器件选型差异
    - 帮助开发者选择合适的音频器件
- **官方附件**：

    - `05、喇叭和咪头选型推荐.rar`

### 第五部分：小语种开发训练模型

#### 附录 O：小语种开发训练模型（总览）

- **网页链接**：[小语种开发训练模型](https://help.aimachip.com/docs/offline_ci03t/offline_ci03t-1gblf4s9m4olo)
- **内容说明**：小语种语音识别模型开发相关资料的汇总入口
- **官方附件**：

    - `小语种开发.rar`

#### 附录 P：开发方案须知

- **网页链接**：[开发方案须知](https://help.aimachip.com/docs/offline_ci03t/offline_ci03t-1gblf6ei1l0hn)
- **内容说明**：

    - **方案注意事项**：

    - 模块选型：CI-03T（推荐）、CI-33T
    - 芯片选型：CI-1302（推荐）、CI-1303
    - 词条数量：建议 <30 条
    - 词条要求：命令词建议至少 4 个音节，尤其是唤醒词；选择发音有明显差异的词条
    - 测试注意：声音平稳，语速正常
    - **特别提醒**：

    - 选词好坏对项目落地的影响很大
    - 可能存在客户的词条在原本的训练集中很少的情况，该情况下需要客户提供至少 50 人的语料进行迭代训练（周期约 3 周）
    - 截止 2024 年 8 月 17 日支持语言：中、英、日、韩、西班牙、德、俄、泰、越南、阿拉伯语（不支持阿拉伯数字）
    - 其他语言需要确定商务条件，提供语料后，周期约 3 个月
    - **开发流程**：

    1. 注册智能公元平台账号，熟悉中文固件开发流程
    2. 与客户确定好词条，请客户提供至少 4 个人的测试语料（语料应尽量干净无底噪，2男2女）
    3. 使用中文开发好固件后，再替换为对应小语种的语言模型、声学模型和 cmd_info 文件
    - **验收标准**：

    - ![验收标准表格](https://help.aimachip.com/uploads/offline_ci03t/images/m_9a4d7abf5e7b6dbfa505e19d3420e61e_r.png)
    - 注：命令词区分度高可大幅减少误识，利于量产
- **官方附件**：

    - `小语种识别方案开发须知-V2.0-240929.pdf`

#### 附录 Q：训练数据采集环境及方法说明

- **网页链接**：[训练数据采集环境及方法说明](https://help.aimachip.com/docs/offline_ci03t/offline_ci03t-1gblfaml16q5d)
- **内容说明**：详细说明小语种训练数据的采集环境要求、采集方法和注意事项
- **详细内容**：

    - **1. 录音文本要求**：

    - 按照项目需求提供所有录音数据对应的命令词文本
    - 命令词音节长度建议在 4-8 个音节（中文基本一字为一音节，如"打开空调"为 4 个音节）
    - 小语种命令词需提供文本对应的中文释义或英文释义
    - 小语种中包含的外来语应尽量提供其对应语种的拼写形式
    - 将文本中所有的阿拉伯数字转写成录音语种对应的文字格式
    - **2. 录音人员及流程**：

    - 训练集音频录音人建议主要选取年龄在 18-60 的人群
    - 小语种开发训练的数据采集，建议采集人次不低于 50 人次；若是喉音、颤音等特殊发音较多语种，则建议录制人数不低于 100 人次
    - 中文项目增强训练的数据采集，建议采集人次不低于 150 人次；若是新开发领域的项目，则建议录制人数不低于 300 人次
    - 以当地标准口音录制，尽量不要带太重的地方口音
    - 相同命令词至少录制 3 遍，正常语速 1 遍，快语速 2 遍
    - 唤醒词每人次录制不少于 10 遍
    - 建议性别比例 1:1
    - 发音人面对最近 mic 分贝在 65-80dB 左右
    - 采集时记录发音人的性别、年龄和籍贯信息，记录录音使用的录音设备及型号
    - **3. 采集设备及环境要求（高保真录音机）**：

    - 最好适宜家居环境，现场混响范围在 0.3-0.6
    - 房间底噪在 35-45dB
    - 最好使用罗兰高保真录音机，根据现场环境调试设备增益和灵敏度
    - mic 选取舒伯乐 ECM999 麦克风四个，对应不同距离 mic 采集音频
    - 麦克风放在距离发声源 0.5m、1m、3m、5m 位置，如有必要可同时放置不同角度对应的 mic 进行录音
    - 现场环境保持安静，无明显的干扰噪音
    - ![采集环境搭建示意图](https://help.aimachip.com/uploads/offline_ci03t/images/m_3334223afec6e2db24b624f45277fdc9_r.png)
    - **4. 采集设备及环境要求（手机/电脑/高保真录音笔）**：

    - 手机/电脑录音需保证较高的音频质量，采样率不低于 44.1k，且避免传输时造成音质受损
    - 使用手持高保真录音笔，选择 44.1k 采样率单声道进行录制
    - 使用手机/电脑/手持高保真录音笔时，将收音设备放在距离发音人 3m 的位置
    - 最好适宜家居环境，录音环境混响尽量小，建议 0.3-0.6
    - 房间底噪在 35-40dB
    - 音频存储格式 wav、采样率不低于 44.1K
    - **5. 数据存储注意事项**：

    - 命令词较少时，建议每条命令词存储为 1 个文件，并提供对应的文本
    - 命令词较多时，建议使用启英泰伦录音工具搭配高保真录音机进行录制，可实现后期数据的批量切分
    - 启英泰伦录音工具设备搭建方法请联系启英泰伦数据组工作人员
- **官方附件**：

    - `训练数据采集环境及方法说明.pdf`

#### 附录 R：数据储存相关示例文档

- **网页链接**：[数据储存相关示例文档](https://help.aimachip.com/docs/offline_ci03t/offline_ci03t-1gblfc30gutt9)
- **内容说明**：提供客户录音训练集的文件夹格式示例，包括录音规范、数据存储格式等
- **图片预览**：

    - ![数据储存示例](https://help.aimachip.com/uploads/offline_ci03t/images/m_eb4f7ffd3ece7aa7de4ddd16393dff42_r.png)
- **备注**：

    - 如果要录制语料，可先录制一个人的语料提供给我们看下是否格式正确，如无问题，再进行后续录音
    - 录制后的声音必须严格按照一个声音一个文件按压缩包进行校对处理好，如未清洗好，会导致识别效果不稳定
- **官方附件**：

    - `数据储存示例文档_V1.0_231120.rar`

### 第六部分：图形化编程

#### 附录 S：CI-03T适配米思奇图形化编程

- **网页链接**：[CI-03T适配米思奇图形化编程](https://help.aimachip.com/docs/offline_ci03t/su_03t_MSQ)
- **内容说明**：说明如何在米思奇（Mixly）图形化编程平台中使用 CI-03T 模组，包括语音指令调用、与主控联动等功能
- **相关链接**：[米思齐图形化编程](http://help.aimachip.com/docs/block/)

### 固件开发时如何配置GPIO控制LED？

**问题描述：**

需要开发固件实现语音控制LED功能，包括唤醒词回复、开灯/关灯指令控制及LED开关，并确认GPIO配置和程序逻辑。

**GPIO配置方法：**

**引脚选择：**

- LED控制可使用任意可用GPIO引脚
- 常用引脚：PA4、PA5等
- 确保引脚未被其他功能占用
- 程序写定后就是固定的控制引脚

**程序逻辑实现：**

**控制要求：**

1. **唤醒词**：仅播放语音回复，不控制LED
2. **开灯指令**：先播放回复语，延时后再点亮LED
3. **关灯指令**：先关闭LED，延时后再播放回复语

**时序控制：**
```c
// 开灯指令时序
play_voice("what can i say");  // 先回复
delay(1000);                  // 延时1秒
gpio_set_level(PIN_LED, 1);   // 再点灯

// 关灯指令时序
gpio_set_level(PIN_LED, 0);   // 先关灯
delay(1000);                  // 延时1秒
play_voice("manba out");      // 再回复
```

**注意事项：**

- 延时时间可根据实际语音长度调整（0.7-1秒）
- 确保LED驱动电路与GPIO电平兼容
- 喇叭和LED不同时工作，避免电源干扰
- 批量出现问题通常是固件配置错误

---

## 常见问题与故障排查

### CI-03T1模块串口1无法通信怎么办？

**问题描述：**

CI-03T1模块使用时，串口0可以正常工作，但串口1无法通信。

**解决方案：**

**引脚配置：**

- 串口0：PB5（TX0）、PB6（RX0）
- 串口1：PA2（TX1）、PA3（RX1）

**检查步骤：**

1. 确认平台上配置的串口引脚与硬件连接一致
2. 检查串口1的引脚是否在平台上正确配置
3. 确认硬件接线是否对应到正确的引脚

**电气特性：**

- 串口通信工作电压：5V
- 连接RS485收发器时需要使用5V工作的芯片

**注意事项：**

- 平台配置的引脚必须与硬件实际连接的引脚一致
- 串口功能需要确保对应的引脚没有被其他功能复用

---

### CI-03T1模块如何实现PWM占空比阶梯式调节？

**问题描述：**

需要通过语音指令实现PWM占空比的阶梯式调节（如100%、70%、50%等），但配置时出现"行为控制详情控制方式错误"和"执行条件项为空"的问题。

**解决方案：**

**PWM配置方法：**

1. 在控制详情中选择PWM控制方式
2. 设置不同的占空比值（如100%、70%、50%）
3. 为每个占空比设置对应的语音指令

**错误解决：**

- "行为控制详情控制方式错误"：检查PWM引脚配置是否正确
- "执行条件项为空"：确保设置了正确的触发条件

**实现步骤：**

1. 创建多个行为，每个行为对应一个PWM占空比
2. 设置语音命令触发对应的行为
3. 通过变量记录当前档位
4. 使用循环命令功能实现连续调节

---

### CI1302芯片的PA5端口设置关机命令后无法保持低电平？

**问题描述：**

使用CI1302芯片的PA5端口控制继电器时，设置关机命令后PA5端口无法保持低电平，反而在100ms后自动翻转为高电平。

**解决方案：**

**问题原因：**

- 这是芯片的电源管理特性导致的
- 关机命令执行后，芯片进入低功耗模式
- 100ms后系统复位，GPIO恢复默认高电平状态

**解决方法：**

1. 使用外部锁存电路保持关机状态
2. 或者采用软件延时，确保继电器完全断开
3. 考虑使用具有掉电保持功能的继电器模块

**注意事项：**

- 设计电路时需要考虑芯片的电源管理特性
- 关机时序需要配合硬件电路设计

---

### 如何通过CI1302芯片的循环命令功能实现连续操作？

**问题描述：**

如何利用CI1302芯片的循环命令功能，实现通过串口连续发送多条指令，以达到一次语音指令触发多个连续操作的效果。

**解决方案：**

**循环命令配置：**

1. 在行为配置中选择循环执行功能
2. 设置循环次数和循环内容
3. 将需要连续执行的指令加入循环体

**应用示例：**

- 语音指令"音量减少"触发循环
- 循环5次，每次发送串口指令"音量-1"
- 实现一次语音降低5格音量的效果

**配置要点：**

- 正确设置循环次数
- 确保循环体内的指令格式正确
- 适当设置循环间隔时间

---

---

### 如何配置GPIO控制LED，实现语音回复与动作的延时控制？

**问题描述：**

需要通过语音指令控制LED灯，并实现语音播报与LED动作的时序控制，避免同时工作造成干扰。

**解决方案：**

**GPIO配置方法：**

- LED控制可使用任意GPIO引脚（如PA4）
- 引脚配置需要在智能公元平台中正确设置
- 确保GPIO输出电平与驱动电路匹配

**时序控制实现：**

1. **开灯指令**：先播放语音回复，延时1秒后再点亮LED
2. **关灯指令**：先关闭LED，延时1秒后再播放语音回复
3. **唤醒词**：仅播放语音回复，不控制LED

**程序逻辑示例：**
```c
// 开灯指令时序
play_voice("what can i say");  // 先回复
delay(1000);                  // 延时1秒
gpio_set_level(PIN_LED, 1);   // 再点灯

// 关灯指令时序
gpio_set_level(PIN_LED, 0);   // 先关灯
delay(1000);                  // 延时1秒
play_voice("manba out");      // 再回复
```

**注意事项：**

- 延时时间可根据实际语音长度调整（客户实测0.7-1秒）
- 确保LED驱动电路与GPIO电平兼容
- 如需调整延时，可通过导出的JSON配置文件修改

![CI1302芯片PA4引脚位置](./img/9272ea57.jpg)

---

### CI-03T模块语音功能正常但LED不亮怎么办？

**问题描述：**

CI-03T模块烧录固件后，语音识别和播报功能正常，但LED灯不亮。

**解决方案：**

**硬件排查步骤：**

1. **确认LED连接**：

    - 检查LED连接的GPIO引脚（如PA4）
    - 使用万用表测量引脚输出电平
    - 确认LED驱动电路供电正常

2. **固件配置检查**：

    - 确认平台中GPIO配置正确
    - 检查是否配置了GPIO控制行为
    - 验证固件是否正确烧录

3. **程序逻辑验证**：

    - 添加测试指令直接控制GPIO
    - 通过串口查看GPIO状态日志
    - 确认程序执行到GPIO控制代码

**常见原因分析：**

- GPIO引脚配置错误
- LED驱动电路损坏
- 固件中缺少GPIO控制逻辑
- 程序延时设置不当

**批量问题处理：**

- 整批产品都出现LED不亮，通常是固件配置问题
- 联系技术支持重新生成带GPIO控制的固件
- 提供详细的硬件连接图和控制逻辑

**注意事项：**

- 批量模块出现相同问题，通常是固件问题
- 单个模块问题，重点检查硬件连接
- 使用原厂测试固件验证硬件功能

---

### 批量生产时LED不亮的快速排查方法？

**问题描述：**

批量生产的CI-03T1模块出现语音正常但LED不亮的问题，需要快速定位和解决。

**快速定位流程：**

**第一步：确认问题范围**
- 统计不良数量和比例
- 检查是否是整批问题
- 对比不同批次的差异

**第二步：硬件快速测试**
1. **引脚测试**：

    - 使用万用表测试PA4引脚电压
    - 触发语音指令时观察电压变化
    - 确认GPIO是否有输出

2. **LED独立测试**：

    - 直接给LED电路供电测试
    - 确认LED驱动电路是否正常
    - 检查限流电阻等元件

**第三步：固件验证**
1. **使用测试固件**：

    - 烧录官方提供的GPIO测试固件
    - 验证硬件是否工作
    - 对比测试固件和生产固件差异

2. **检查配置文件**：

    - 确认平台中GPIO配置正确
    - 检查行为配置是否完整
    - 验证导出的固件包含GPIO控制

**解决方案：**

- 确认为固件问题，联系技术支持重新生成
- 硬件问题则检查PCB和元器件
- 建立烧录后测试流程，确保功能正常

**预防措施：**

- 量产前充分测试固件功能
- 建立首件检验制度
- 保留测试固件用于故障排查

---

### 如何控制8002D功放芯片的开关以消除静噪声？

**问题描述：**

需要通过CI1302芯片控制8002D功放芯片的开关，实现仅在语音交互时开启功放、其余时间关闭，从而消除静噪声问题。

**解决方案：**

**电路连接：**

- 使用CI1302的一个GPIO引脚控制8002D的使能引脚
- 确保控制逻辑与功放的使能逻辑匹配

**控制策略：**

1. 待机状态：功放使能为低，功放关闭
2. 语音识别到唤醒词：功放使能为高，功放开启
3. 播报完成后：延时一段时间后关闭功放

**注意事项：**

- 功放开关需要与语音播报同步
- 延时时间需要根据播报内容长度调整
- 确保功放开关不会产生pop噪声

---

### CI-03T模组使用外部麦克风时出现误触发怎么办？

**问题描述：**

使用CI-03T模组加底板设计的样机，定型后偶尔出现语音模块误触发问题。经排查发现使用的是外部麦克风（非原厂配套）。

**解决方案：**

**问题原因：**

- 外部麦克风灵敏度过高导致误识别率增加
- 麦克风参数与模组不匹配

**技术要求：**
建议使用以下规格的麦克风：

- 灵敏度：-32dB
- 信噪比：SNR > 70dB

**解决方法：**

1. **首选方案**：更换符合规格的麦克风
    - 联系麦克风供应商提供符合要求的型号
    - 更换麦克风不会影响尺寸和装配

2. **替代方案**（硬件已定型无法更改）：

    - 通过软件算法优化降低误触发
    - 增加电路板滤波
    - 调整识别阈值

**注意事项：**

- 硬件需要搭配标准配置，再优化算法才能达到最佳效果
- 研发阶段建议多测试不同规格的样板
- 电源纹波也应控制在合理范围（建议100mV左右）

---

### CI-03T模组的功放能驱动多大功率的扬声器？

**问题描述：**

需要了解CI-03T模组集成的功放电路能够驱动多大功率的扬声器，以便选择合适的喇叭。

**解决方案：**

**功放规格：**

- CI-03T系列模组（除低功耗版本外）均内置功放电路
- 可驱动8Ω、3W以下的扬声器
- 功放类型：ClassAB
- 典型输出功率：2.4W@5V4Ω

**选型建议：**

- 推荐使用4-8欧姆的扬声器
- 扬声器功率不超过3W
- 根据产品尺寸选择合适的喇叭口径

**注意事项：**

- 扬声器阻抗过低可能导致功放过载
- 扬声器功率过大会影响音质
- 如需驱动更大功率的扬声器，建议外接专用功放电路

---

### CI-03T1模组偶尔出现唤醒失败怎么办？

**问题描述：**

CI-03T1语音模块在使用过程中偶尔出现唤醒失败，需要重新上电才能恢复正常工作。

**解决方案：**

**排查步骤：**

1. **电源检查**：

    - 确认供电电压在3.6-5.5V范围内
    - 检查电源纹波是否过大（建议<100mV）
    - 测量电流是否满足工作要求

2. **硬件连接检查**：

    - 检查麦克风连接是否可靠
    - 确认底板与模组的接触良好
    - 检查是否有虚焊或接触不良

3. **固件检查**：

    - 确认固件版本是否为最新
    - 检查唤醒词配置是否正确
    - 验证唤醒阈值设置是否合适

**临时解决方法：**

- 调整唤醒词识别阈值（降低灵敏度）
- 使用更清晰的唤醒词
- 避免在强噪声环境下使用

**注意事项：**

- 偶发性唤醒失败可能与电源稳定性有关
- 建议在设计时预留充足的电源余量
- 持续无法唤醒时需要检查硬件是否损坏


