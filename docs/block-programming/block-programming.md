---
title: Block 积木编程
icon: material/puzzle
description: CI-03T/CI-33T 离线语音模组搭配米思奇（Mixly）图形化编程开发指南
---

# CI-03T/CI-33T/CI-03T2 搭配米思奇图形化编程

CI-03T/CI-33T/CI-03T2 离线语音模组支持使用米思奇（Mixly）进行图形化编程开发，无需编写 C 代码即可实现语音控制、串口通信等功能。

## 网页编程教程

### 智能公元平台网页编程教程在哪里获取？

**问题描述：**

需要获取智能公元平台网页编程功能的使用教程。

**解决方案：**

- 官方提供新手入门教程视频
- 视频地址：[新手入门教程——智能公元平台如何使用](https://www.bilibili.com/video/BV1e8411T77q/?share_source=copy_web&vd_source=b6beabc53891a8572767198c0aee582e)

**注意事项：**

- 视频包含平台注册、项目创建、固件生成等完整流程
- 建议新手按视频步骤操作以快速上手

---

!!! warning "重要提示"
    使用前请将米思齐软件更新到最新版 **Mixly 2.0 rc4**！绝大多数的报错都是米思齐版本不一致导致的！

---

## 01、开发环境搭建

### 安装包下载

安装包下载地址：[01、米思奇软件安装和模块导入；版本2310081760.zip](https://help.aimachip.com/attach_files/block/639)

### 1. 安装 Notepad++ 并发送至桌面

将 Notepad++ 发送至桌面并打开，后续需要用它编辑配置文件。

### 2. 配置账号信息

找到 `CI-03T安装包/ci03t/build` 目录下的 `blockTool.exe.config` 文件，使用 Notepad++ 打开，分别填写在智能公元平台注册的账号和密码。

![配置文件示例](http://help.aimachip.com/uploads/block/images/m_c03cd9b0b5b77edd879b195e139f280c_r.png)

### 3. 更新米思奇软件

打开米思奇软件安装包，选择 **一键更新** 到最新版本。

!!! tip "建议"
    多更新两次，一般一次不能更新到位。

![Mixly 软件一键更新示意](http://help.aimachip.com/uploads/block/images/m_719cceb66e334faf6a455f284cf52eeb_r.png)

### 4. 导入板卡

打开米思奇并导入板卡，在右上角板卡选择列表中确认目标板卡已加载。

![导入板卡菜单](http://help.aimachip.com/uploads/block/images/m_c65d91e5846fcbdf3c881d84eb391af9_r.png)

### 5. 硬件连接

正确连接模块和 CH340：

| 模组引脚 | CH340 引脚 | 说明 |
|---------|-----------|------|
| TX | RX | 发送 → 接收（交叉连接） |
| RX | TX | 接收 → 发送（交叉连接） |
| GND | GND | 共地 |
| 5V/3.3V | 5V/3.3V | 供电保持一致 |

![硬件连接示意](http://help.aimachip.com/uploads/block/images/m_f6449a06986d9dd5cabb8bb452258ee8_r.png)

### 6. 上传固件

点击左上角 **"上传"** 按钮，等待固件生成。此过程大约需要 3 分钟左右。

![编译生成提示](http://help.aimachip.com/uploads/block/images/m_f7104bb76f16f28ad1572ba7fb0acaad_r.png)
!!! warning "重要"
    固件生成成功后，根据提示将设备 **重新上电**，完成烧录。

---

## 02、CI-03T 与 Arduino 进行串口通信

### 硬件连接

| CI-03T 引脚 | Arduino 引脚 |
|------------|-------------|
| TX | RX |
| RX | TX |
| GND | GND |

### Block 逻辑示例

1. 初始化串口（波特率 9600 或与 Arduino 同步）
2. 语音识别"打开空调" → 串口发送 `AC_ON`
3. 语音识别"关闭空调" → 串口发送 `AC_OFF`

### Arduino 代码示例

```cpp
void setup() {
  Serial.begin(9600);
  pinMode(13, OUTPUT);
}

void loop() {
  if (Serial.available()) {
    String cmd = Serial.readString();
    if (cmd == "AC_ON") {
      digitalWrite(13, HIGH);
    } else if (cmd == "AC_OFF") {
      digitalWrite(13, LOW);
    }
  }
}
```

### 验证

对模组说"打开空调"，观察 Arduino LED 是否点亮；使用串口助手可查看原始数据。

**示例附件下载**：[02、米思奇环境Arduino接收CI-03T发出的数据，并作出反馈；版本2305161011.zip](https://help.aimachip.com/attach_files/block/523)

---

## 03、CI03T 对接 Block

### API 接口文档

Block 生成固件 API 链接地址：[API 文档](https://console-docs.apipost.cn/preview/fd2e6ef6f45ac983/1a1bedf171ee2377)

---

## 常用积木指令

### 流程控制积木

- **顺序执行**：按顺序执行积木块
- **条件判断**：如果…否则…
- **循环**：重复 N 次、条件循环

### 变量与运算积木

- 数值 / 文本 / 布尔变量管理状态
- 支持基础算术与比较运算

### 硬件控制积木

| 分类 | 用法 | 注意事项 |
|-----|------|---------|
| 数字输出 | 控制引脚高低电平（LED、继电器） | 校准引脚映射，避免冲突 |
| PWM 输出 | 调节亮度或电机速度 | 设置频率/占空比，避免过载 |
| 输入检测 | 读取按键、传感器、电位器 | 需要下拉/上拉配置 |

### 串口通信积木

- 初始化串口并设置波特率（常用 9600 / 115200）
- 发送字符串 / 数字给外部 MCU
- 接收外部数据并根据字符串判断执行

---

## 常见问题（FAQ）

| 问题 | 解决方案 |
|-----|---------|
| 上传卡住或报错 | 检查 `blockTool.exe.config` 账号密码、网络连接，重新启动 Mixly |
| 烧录完成设备无反应 | 务必 **重新上电** 或重启设备 |
| 串口接收不到数据 | 检查 TX/RX 是否交叉、波特率是否一致、串口号是否被占用 |
| 语音指令无法识别 | 确认技能已发布并同步词库、固件为最新版本、麦克风/供电正常 |
| 提示"板卡不存在"或"权限不足" | 重新执行一键更新、确认账号权限 |
| 找不到积木指令 | 在"扩展/管理库"启用对应插件 |
| 生成固件提示磁盘空间不足或路径错误 | 确保磁盘空间充足、安装路径避免中文/过长目录 |
| 上传失败提示"不是内部或外部命令" | 检查 blockTool.exe 路径、确认文件存在、重新解压安装包 |
| 文件读取失败 | 将固件移至英文路径、避免中文和特殊字符、使用简单路径 |
| 导入库时提示文件名错误 | 选择安装包中的 rc4_ci03t 文件夹，无需填写具体文件名 |

---

## 更多问题详解

### 米思奇上传固件失败怎么办？

**问题描述：**

在使用米思奇软件上传固件时，CI-03T模块上传失败，提示"不是内部或外部命令，也不是可运行的程序"或"文件读取失败"。

**解决方案：**

**问题原因分析：**

1. **blockTool.exe路径问题**：

    - blockTool.exe文件路径不正确或不存在
    - 可能是解压不完整或文件损坏
    - 软件无法找到并执行烧录工具

2. **中文路径问题**：

    - 固件文件路径包含中文字符
    - 米思奇或blockTool.exe不支持中文路径
    - 导致文件读取失败

**解决步骤：**

1. **检查blockTool.exe路径**：

    - 找到米思奇安装目录
    - 确认blockTool.exe存在于build文件夹中
    - 路径示例：`D:\Mixly3.0-win32-x64\resources\app\src\boards\extend\rc4_ci03t\build\`

2. **重新安装米思奇**：

    - 完全卸载现有米思奇软件
    - 重新下载最新版本安装包
    - 解压到简单英文路径（如C:\Mixly）

3. **配置文件检查**：

    - 编辑blockTool.exe.config文件
    - 确认智能公元平台账号密码正确
    - 保存配置文件并重启米思奇

4. **固件文件路径优化**：

    - 将固件文件复制到英文路径
    - 避免使用中文文件夹名
    - 路径中不要有空格或特殊字符

**操作示例：**

```
正确路径：
C:\Firmware\jx_ci_03t_release_update.bin
D:\Project\firmware.bin

错误路径：
D:\固件\ci03t固件.bin
C:\Users\用户名\桌面\新建文件夹\固件.bin
```

**预防措施：**

1. **安装规范**：

    - 使用官方最新版米思奇（Mixly 2.0 rc4）
    - 安装到简单英文路径
    - 避免使用管理员权限运行

2. **文件管理**：

    - 所有项目文件使用英文命名
    - 建立专门的固件文件夹
    - 保持目录结构简洁

3. **版本管理**：

    - 定期检查米思奇更新
    - 备份工作配置
    - 保留安装包备用

**注意事项：**

- 确保米思奇版本为Mixly 2.0 rc4或更新
- blockTool.exe必须存在于正确的build目录中
- 中文路径是导致文件读取失败的常见原因
- 如问题持续，尝试更换电脑或使用专用烧录工具
- 完整的错误信息截图有助于问题定位

---

### 米思奇导入模块文件时找不到文件或提示文件名错误怎么办？

**问题描述：**

在米思奇软件中导入库文件时，不知道文件名应该如何填写，总是提示文件名错误，无法完成导入操作。

**解决方案：**

**正确的导入步骤：**

1. **找到安装包文件**：

    - 从智能公元官网下载"01、米思奇软件安装和模块导入；版本2310081760.zip"
    - 解压到本地简单英文路径（如 C:\Mixly）

2. **定位模块文件**：

    - 进入"01、米思奇软件安装和模块导入；版本2310081760"文件夹
    - 打开"02、CI-03T安装包"文件夹
    - 找到名为"rc4_ci03t"的文件夹

3. **执行导入操作**：

    - 在米思奇软件中，选择"导入库"或"导入模块"
    - 文件选择对话框中，选择整个"rc4_ci03t"文件夹
    - 无需填写具体文件名，软件会自动识别文件夹内容

**注意事项：**

- 不要试图选择单个文件，应选择整个"rc4_ci03t"文件夹
- 确保安装路径不包含中文字符
- 如果仍然失败，尝试以管理员身份运行米思奇软件
- 导入完成后在板卡选择列表中确认 CI-03T 板卡已加载

---

## 附加资源

| 资源 | 链接 |
|-----|------|
| 官方 Block 文档 | [https://help.aimachip.com/docs/block](https://help.aimachip.com/docs/block) |
| 开发环境搭建 | [https://help.aimachip.com/docs/block/minxly_01](https://help.aimachip.com/docs/block/minxly_01) |
| 串口通信示例 | [https://help.aimachip.com/docs/block/ci-03t_01](https://help.aimachip.com/docs/block/ci-03t_01) |
| CI03T 对接 Block | [https://help.aimachip.com/docs/block/block-1f3a936php1n6](https://help.aimachip.com/docs/block/block-1f3a936php1n6) |
| Mixly 官方手册 | [https://mixly.org/](https://mixly.org/) |
| 智能公元平台 | [https://smartpi.cn/](https://smartpi.cn/) |

---

### 米思奇变量播报和音量控制失效怎么办？

**问题描述：**

在使用米思奇编写固件后，发现以下问题：

1. 语音控制调节音量功能失效
2. 变量播报无法正常工作
3. 为什么变量不能播报出来

**解决方案：**

**1. 变量播报问题分析**

- **变量类型错误**：检查变量类型是否设置正确
- **播报语法错误**：确认使用了正确的变量播报积木
- **变量初始化问题**：变量可能未正确赋值

**2. 音量控制失效原因**

- **固件冲突**：米思奇生成的固件可能与原有功能冲突
- **覆盖问题**：新固件覆盖了原有的音量控制功能
- **配置错误**：音量控制相关配置可能被意外修改

**3. 解决步骤**

**变量播报修复**：

1. **检查变量类型**：

    - 确认变量已正确创建
    - 检查变量类型（数字、文本、布尔）
    - 使用正确的变量播报积木块

2. **验证播报语法**：
    ```
    正确：使用"播报变量"积木块
    错误：将变量直接放入文本播报
    ```

3. **调试变量值**：

    - 在变量播报前添加显示积木
    - 确认变量值是否正确
    - 检查变量作用域

**音量控制恢复**：

1. **重新添加音量功能**：

    - 在米思奇中重新配置音量控制指令
    - 使用"设置音量"相关积木
    - 确保指令与原有一致

2. **检查固件配置**：

    - 确认所有功能模块已启用
    - 检查是否有功能被意外禁用
    - 重新生成完整固件

3. **使用5V供电**：

    - 确保模块使用5V供电
    - 电压不足可能导致功能异常
    - 3.3V供电可能影响某些功能

**4. 预防措施**

1. **功能测试**：

    - 每次修改后测试所有功能
    - 保留功能测试清单
    - 记录正常和异常的功能

2. **固件备份**：

    - 保存工作正常的固件版本
    - 建立版本控制机制
    - 便于快速回退

3. **分步修改**：

    - 每次只修改一个功能
    - 测试通过后再修改下一个
    - 避免多个问题同时出现

**5. 常见错误对照**

| 问题现象 | 可能原因 | 解决方法 |
|---------|---------|---------|
| 变量不播报 | 变量类型错误 | 检查并更改变量类型 |
| 音量控制失效 | 固件冲突 | 重新生成完整固件 |
| 功能异常 | 供电不足 | 使用5V稳定供电 |
| 播报无声音 | 音频配置错误 | 检查音频输出设置 |

**注意事项：**

- 米思奇版本需保持最新（Mixly 2.0 rc4）
- 修改功能后需要完整重新生成固件
- 保留详细的功能测试记录
- 如问题持续，可寻求专业技术协助获取帮助

---

## 更多问题详解

### 在Mixly平台开发CI-03T时遇到报错怎么办？

**问题描述：**

在Mixly平台为CI-03T芯片开发项目时遇到报错，不清楚报错原因及解决方法。

**解决方案：**

**报错排查步骤：**

1. **检查词条配置**：

    - 确认词条中没有特殊字符或空格
    - 检查词条长度是否符合要求
    - 验证词条拼音标注是否正确

2. **检查程序逻辑**：

    - 确认所有积木块连接正确
    - 检查变量定义和使用是否匹配
    - 验证条件判断逻辑是否完整

3. **环境配置检查**：

    - 确保使用Mixly 2.0 rc4或更新版本
    - 检查blockTool.exe.config文件中的账号密码
    - 确认网络连接正常

**常见报错类型及解决方法：**

| 报错现象 | 可能原因 | 解决方法 |
|---------|---------|---------|
| 编译失败 | 积木块连接错误 | 检查所有积木块的输入输出连接 |
| 变量未定义 | 变量名拼写错误 | 检查变量定义和使用的名称一致性 |
| 串口无数据 | 波特率不匹配 | 确认Mixly和外部设备波特率一致 |
| 上传失败 | 网络或账号问题 | 检查网络和智能公元平台账号状态 |
| 设备无响应 | 固件未正确烧录 | 重新上电或重新烧录固件 |

**快速模式使用建议：**

对于教学场景，建议使用快速模式：

- **生成速度快**：快速模式3分钟内即可完成
- **适合教学**：避免长时间等待影响教学进度
- **功能完整**：所有基本功能均可正常使用

**注意事项：**

- 大多数报错与Mixly版本相关，务必使用最新版本
- 检查词条时注意不要有多余的空格或特殊字符
- 如问题持续存在，可尝试使用智能公元平台直接开发
- 保存项目文件，便于出错时对比排查

---

### Mixly平台生成固件过慢如何解决？

**问题描述：**

在使用Mixly平台为CI-33T生成固件时，生成时间过长，影响教学进度，需要了解原因和解决方案。

**解决方案：**

**问题原因：**

Mixly平台固件生成采用排队机制，当使用人数较多时会导致生成时间延长。半节课过去仍未完成生成，严重影响教学效率。

**推荐解决方案：**

1. **使用快速模式**：

    - 生成时间：约3分钟
    - 适合教学场景，避免长时间等待
    - 功能完整，基本开发需求均可满足

2. **平台直接开发**：

    - 登录智能公元平台
    - 选择相同型号进行开发
    - 生成速度更快，无需排队

3. **错峰使用**：

    - 选择非高峰时段使用Mixly
    - 避开工作日上午等使用高峰期
    - 提前准备，预留充足时间

**操作建议：**

- 教学演示时提前生成固件
- 准备备用项目或示例
- 如遇长时间排队，可切换到智能公元平台
- 保存项目配置，便于快速重新生成

**注意事项：**

- 快速模式生成的固件功能完整，可正常使用
- Mixly版本过低可能导致生成失败，请更新到最新版
- 网络不稳定也会影响生成，确保网络连接正常

---

### 米思齐中SSD1306无法显示汉字怎么办？

**问题描述：**

在米思齐环境中使用SSD1306 OLED显示屏时，可以正常显示图形和数字，但无法显示汉字。而在Linkboy环境中可以正常显示汉字。

**解决方案：**

**1. 问题原因分析**

    - **编码差异**：

        - 米思齐与Linkboy在处理字符显示时编码方式不同
        - 米思齐可能未正确加载中文字符集
        - Linkboy可能内置了对中文的支持

    - **字体支持问题**：

        - 缺少中文字体库（点阵字体）
        - 字符编码设置不正确
        - 底层显示库的处理方式不同

**2. 解决方案步骤**

    - **方法一：添加中文字体支持**
        1. 在米思齐中检查是否使用了U8g2或U8glib库
        2. 确保已正确导入中文点阵字体文件
        3. 使用支持中文的字体：如`u8g2_font_chinese16_1`

    - **方法二：代码修改示例**
        ```cpp
      #include <U8g2lib.h>

      // 定义显示屏对象
      U8G2_SSD1306_128X64_NONAME_F_HW_I2C u8g2(U8G2_R0, /* reset=*/ U8X8_PIN_NONE);

      void setup() {
        u8g2.begin();
        u8g2.setFont(u8g2_font_chinese16_1); // 设置中文字体
      }

      void loop() {
        u8g2.clearBuffer();
        u8g2.setCursor(0, 10);
        u8g2.print("你好"); // 显示中文
        u8g2.sendBuffer();
      }
      ```

    - **方法三：硬件连接检查**
        1. 确认SSD1306的I2C地址正确（通常为0x3C或0x3D）
        2. 检查I2C引脚连接（SCL和SDA）
        3. 确保电源和地线连接正确

**3. 替代方案**

    - **使用Linkboy环境**：

        - 如急需使用中文显示，可暂时切换到Linkboy
        - 完成开发后再考虑移植到米思齐

    - **手动移植**：

        1. 在Linkboy中导出代码
        2. 分析其显示中文的实现方式
        3. 将相关代码和字体移植到米思齐

**4. 环境更新**

    - 确保米思齐为最新版本
    - 重新安装或更新U8g2库
    - 查看官方文档了解中文支持方法

**注意事项：**

- 确保使用的字体文件与显示屏分辨率兼容
- 中文字体可能占用更多内存，注意MCU资源限制
- 若问题持续，可尝试使用其他显示库
- 建议先从简单项目开始，逐步添加中文功能

---

## 学习资源

### 米思齐视频教程

B站提供了完整的米思齐学习视频，包括基础操作和进阶功能：

- [基础入门教程](https://www.bilibili.com/video/BV11Y4y197LB/?spm_id_from=333.1387.search.video_card.click&vd_source=ce7b0170c92f671aae43ea576fb34651)
- [进阶功能演示](https://www.bilibili.com/video/BV1Sg4y147pZ/?spm_id_from=333.1387.search.video_card.click&vd_source=ce7b0170c92f671aae43ea576fb34651)
- [项目实战案例](https://www.bilibili.com/video/BV1M54y1T7cr/?spm_id_from=333.1387.search.video_card.click&vd_source=ce7b0170c92f671aae43ea576fb34651)

![米思齐自定义命令界面](./img/5f1f4125.jpg)

---


