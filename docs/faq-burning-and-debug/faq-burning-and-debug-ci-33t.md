# CI-33T 烧录与调试 FAQ

本页用于整理 CI-33T 相关的烧录与调试问题。

### CI-33T模块如何配置烧录和固件生成？

**问题描述：**

需要了解CI-33T模块的烧录配置方法，以及与CI-03T模块的配置差异。

**解决方案：**

**配置方法说明：**

CI-33T与CI-03T的配置方法基本相同：

1. **配置流程相同**
    - 左侧导航栏选择"烧录教程"
    - 参考CI-03T的配置教程
    - 配置步骤和操作方式一致

2. **主要差异点**
    - **存储容量**：CI-33T（500条词条）＞CI-03T（300条词条）
    - **其他功能**：基本相同，无显著差异

3. **配置平台**
    - 推荐使用智能公元在线平台
    - 平台地址：https://smartpi.cn/
    - 支持所有型号模块的统一配置

**操作步骤：**

1. 访问在线平台并登录
2. 选择对应的模块型号（CI-33T）
3. 按照教程完成语音配置
4. 生成固件并下载
5. 使用烧录工具烧录固件

**注意事项：**

- CI-33T的配置方法与CI-03T基本一致
- 主要差异仅在于存储容量大小
- 无需专门查找CI-33T的专用配置教程

---

### CI-33T使用什么烧录软件？

**问题描述：**

在烧录CI-33T固件时，使用了错误的烧录软件导致烧录后设备无法正常工作。

**解决方案：**

CI系列模块使用专用的烧录软件，与SU系列不同：

1. **烧录软件区分**

    - **CI系列**：使用CI专用烧录工具
    - **SU系列**：使用SU专用烧录工具
    - 不能混用，否则会导致设备无响应

2. **烧录操作要点**

    - 确认使用CI-33T对应的烧录软件
    - 烧录进度条到100%表示成功
    - 烧录完成后取消勾选避免重复烧录

3. **固件兼容性**

    - CI-33T和CI-03T使用相同的烧录软件
    - 固件文件必须与模块型号匹配
    - 测试固件可用于验证烧录工具是否正常

**故障排查：**

如果烧录后设备无法工作：

1. 检查是否使用了正确的烧录软件
2. 确认固件文件是否为CI-33T版本
3. 使用官方测试固件进行验证测试
4. 检查硬件连接是否良好

**注意事项：**

- CI系列模块不能使用SU系列的烧录工具
- 烧录成功但设备不工作，通常是固件不匹配
- 建议保留官方测试固件用于故障排查

---

### 烧录成功后设备无响应怎么办？

**问题描述：**

固件烧录显示100%成功，但设备上电后无任何响应，怀疑是固件问题。

**解决方案：**

按以下步骤排查问题：

1. **验证烧录软件**

    - 确认使用的是CI系列专用烧录工具
    - CI-33T不能使用SU系列的烧录软件
    - 下载最新的CI系列烧录工具

2. **使用测试固件**

    - 下载官方CI-33T测试固件
    - 使用测试固件烧录验证
    - 如果测试固件正常，则原固件有问题

3. **检查硬件连接**

    - 确认烧录线连接良好
    - 检查电源供电是否稳定
    - 重新上电测试设备

4. **固件文件检查**

    - 确认固件文件完整性
    - 检查文件是否为CI-33T专用
    - 重新生成固件文件尝试

**处理流程：**

```
发现问题 → 使用测试固件验证 → 检查烧录工具 → 确认固件匹配 → 联系技术支持
```

**注意事项：**

- 烧录工具错误是常见问题
- 保留测试固件作为验证标准
- 多次烧录失败需检查硬件

---

### CI-33T模块上传程序时出现System.OverflowException错误怎么办？

**问题描述：**

在使用CI-33T模块的开发环境上传程序时，出现System.OverflowException错误，提示值对于Int32太大或太小，导致上传失败。

**解决方案：**

**1. 问题分析**

- 错误类型：System.OverflowException
- 原因：数据值超出Int32类型的表示范围
- 影响：无法通过开发环境上传程序

![System.OverflowException错误](./img/36b26d5a.jpg)

**2. 推荐方案**

- 使用智能公元在线平台进行配置
- 平台地址：https://smartpi.cn/
- 在线配置更简单，无需本地开发环境

**3. 开发环境使用注意**

- 确认使用CI-33T专用的开发包
- 检查开发环境版本兼容性
- 避免使用过时的开发工具

![开发环境教程](./img/2d7e62ee.jpg)

![固件生成成功提示](./img/ff50dc57.jpg)

![开发资源包](./img/50138745.jpg)

![CI-03T烧录教程页面](./img/f71307fd.jpg)

![System.OverflowException错误](./img/7eb71f68.jpg)

**注意事项：**

- System.OverflowException通常是开发环境兼容性问题
- 建议优先使用在线平台配置固件
- 如必须使用本地开发环境，请联系技术支持获取正确版本

---

### CI-33T上电后持续发送异常数据怎么办？

**问题描述：**

CI-33T模块上电后，串口工具持续接收到重复的异常十六进制数据（如0x04、0x03、0x9C等）。

**解决方案：**

**1. 现象分析**

- 模块未能正常启动进入工作状态
- 可能是固件加载失败或通信协议异常
- 数据流重复出现，表明模块处于异常循环状态

**2. 排查步骤**

- **重新烧录固件**：使用正确的固件文件重新烧录
- **检查供电**：确保电压稳定，推荐使用5V供电
- **串口连接**：确认串口线序正确（TX-RX交叉连接）

**3. 解决方案**

- 使用智能公元平台重新生成和下载固件
- 选择与CI-33T匹配的正确固件版本
- 使用官方推荐的烧录工具进行烧录
- 烧录前先断电复位模块

**注意事项：**

- 异常数据通常表示固件未正常运行
- 烧录时选择带"update"后缀的固件文件
- 如问题持续存在，可能是硬件故障

---

### CI-33T通电后持续自动复位怎么办？

**问题描述：**

CI-33T模块通电后持续自动复位，并发出哒哒哒的响声。

**解决方案：**

**1. 排查步骤**

- **分离测试**：

    - 将模块从转接板上拔下
    - 只保留CH340烧录器连接
    - 测试是否能正常烧录

- **直接连接测试**：

    - CH340直接连接到CI-33T模块
    - 不使用转接板
    - 检查是否能正常工作

**2. 接线检查**

- **正确接线方式**（与CI-03T相同）：

    - CH340的5V → CI-33T的VCC
    - CH340的GND → CI-33T的GND
    - CH340的RXD → CI-33T的TXD（B6）
    - CH340的TXD → CI-33T的RXD（B7）
    - CH340的3V3 → CI-33T的3V3
    - CH340的PWR → CI-33T的PWR
    - CH340的PB5 → CI-33T的PB5
    - CH340的PB6 → CI-33T的PB6

![CI-03T/33T烧录接线图](./img/db441ae0.jpg)

**3. 故障判断**

- **正常通电也响**：

    - 可能是模块硬件问题
    - 需要更换新模块测试

- **USB端口保护**：

    - 频繁插拔可能导致USB端口保护
    - 出现"USB端口上的电涌"提示
    - 需要等待一段时间恢复

![实际接线照片](./img/f341f1b6.jpg)

![USB电涌错误](./img/9d43535a.jpg)

**注意事项：**

- CI-33T与CI-03T接线方式相同
- 仅Flash容量不同（33T支持500条，03T支持300条）
- 检查是否有短路导致USB保护
- 如问题持续存在，建议更换模块

---

### CI-33T固件烧录时如何进行MD5校验？

**问题描述：**

在烧录CI-33T固件时，需要确认烧录的固件文件MD5校验码是否正确，并希望将校验码留档以供后续参考。

**解决方案：**

**MD5校验方法：**

1. **使用Hasher Lite工具**：

    - 下载并安装Hasher Lite校验工具
    - 打开工具并选择固件文件
    - 查看生成的MD5校验值

2. **校验步骤**：

    ```
    固件文件1：jx_ci_33t_firmware_xiaoling_0527_1442.bin
    文件大小：3.10 MB
    MD5校验值：715a040ee9f7547afb0241d1ed906ad4

    固件文件2：jx_ci_33t_firmware_xiaoyu_0527_1442.bin
    文件大小：3.10 MB
    MD5校验值：fa8ea15f294a2e7e916dde1862141f60
    ```

![Hasher Lite校验界面1](./img/734513f1.jpg)

*小灵版本固件的MD5校验结果*

![Hasher Lite校验界面2](./img/d33a4e07.jpg)

*小驭版本固件的MD5校验结果*

3. **校验码对比**：

    - 将实际生成的MD5值与提供值对比
    - 确认一致性后再进行烧录
    - 记录校验结果存档

**固件信息记录管理：**

1. **建立烧录档案**：

    | 项目信息 | 内容 |
    |---------|------|
    | 公司名称 | 深圳市亿龙特电子有限公司 |
    | 产品名称 | 航空座椅 |
    | 模块型号 | CI-33T V1.3 |
    | 固件版本 | 中英文双模型 |
    | 开机播报 | 无 |
    | 中文唤醒词 | 小领小领/小玉小玉 |
    | 回复语 | 我在呢 |
    | MD5校验码 | [记录对应值] |

2. **批次管理**：

    - 每个烧录批次记录对应MD5
    - 保留烧录数量和日期
    - 建立质量追溯机制

**批量烧录建议：**

- **预烧录验证**：批量烧录前先验证少量模块
- **过程抽检**：烧录过程中定期抽检验证
- **留档备份**：保存所有版本的固件和校验记录
- **问题追溯**：出现问题时可根据MD5快速定位

**注意事项：**

- MD5校验确保固件文件完整性，防止文件损坏
- 不同版本固件的MD5值不同，需分别记录
- 保留完整的校验记录便于后续维护
- 建议使用专用MD5校验工具避免手动错误


---

### CI-33T固件烧录时如何进行模块标记管理？

**问题描述：**

在烧录CI-33T固件时，未在模块上标记固件信息，导致生产时无法区分两个不同固件的模块，存在混料风险。

**解决方案：**

**模块标记管理方案：**

1. **物理标记法**（推荐）：

    - 在模块一边做标记记号（如点胶、贴标签）
    - 不同固件版本使用不同标记位置
    - 便于生产时快速区分

2. **标记位置设计**：

    - 副驾座椅版本：在A角标记
    - 左侧座椅版本：在B角标记
    - 右侧座椅版本：在C角标记
    - 标记要清晰且不影响焊接

3. **标签管理**：

    - 为每个版本制作专用标签
    - 标签包含版本信息、唤醒词、日期等
    - 贴在包装袋上便于识别

**固件信息记录：**

1. **建立版本档案**：

    ```
    固件版本信息表：
    ----------------------------------------
    版本 | 唤醒词 | MD5 | 生产日期 | 标记方式
    ----------------------------------------
    V1.0 | 小领小领 | 715a04... | 2024-11-30 | 左角点胶
    V1.0 | 小玉小玉 | fa8ea1... | 2024-11-30 | 右角点胶
    V1.0 | 小驭小驭 | b8c1e0... | 2024-11-30 | 无标记
    ```

2. **批次管理**：

    - 每个生产批次记录对应的固件版本
    - 保留烧录数量和良品率统计
    - 建立质量问题追溯机制

**生产流程建议：**

1. **烧录前检查**：

    - 确认固件版本与标记位置匹配
    - 检查模块外观避免误用标记版本
    - 首件验证标记的清晰度

2. **过程控制**：

    - 不同固件使用不同的烧录工位
    - 定期抽检确保标记正确性
    - 发现混料立即隔离处理

3. **质量保证**：

    - 建立首件检验制度
    - 记录各版本的良品率数据
    - 定期统计标记错误率

**问题处理流程：**

1. **发现混料时**：

    - 立即停止使用该批次模块
    - 重新检查库存并分离
    - 联系厂家确认处理方案

2. **标记不清时**：

    - 使用放大镜仔细查看模块
    - 必要时通过功能测试确定版本
    - 建立更清晰的标记标准

**成本控制建议：**

- 标记材料成本计入生产成本
- 预留标记不良品处理费用
- 优化标记流程提高效率
- 定期评估标记方法的成本效益

**注意事项：**

- 物理标记是最可靠的区分方法
- 建议在模块设计时就考虑标记需求
- 保持标记记录与生产批次的对应关系
- 优先选择不影响焊接和使用的标记方式


---

### CI-33T烧录后能唤醒但命令词无声怎么办？

**问题描述：**

CI-33T模块重新烧录固件后，设备能够正常唤醒，但命令词没有声音反馈。即使恢复初始固件后问题依旧存在。

**解决方案：**

**问题排查步骤：**

1. **检查喇叭硬件**：

    - 确认喇叭连接正确，正负极没有接反
    - 测试喇叭本身是否完好（可用万用表蜂鸣档测试）
    - 检查喇叭线材是否有断裂或接触不良

2. **验证功放电路**：

    - 测量功放芯片供电电压是否正常
    - 检查功放使能信号（PA6引脚）是否正确输出
    - 确认功放输出到喇叭的通路完好

3. **测试唤醒音和命令词音量**：

    - 唤醒有声音说明功放基本正常
    - 命令词无声可能是音量设置问题
    - 检查固件中是否单独设置了命令词音量

**可能原因分析：**

1. **固件配置问题**：

    - 命令词回复音量被设置为0或最小值
    - 命令词回复语文件缺失或损坏
    - 音频输出通路配置错误

2. **硬件连接问题**：

    - 喇叭接触不良或阻抗不匹配
    - 功放电路部分元器件损坏
    - 音频输出线路存在短路或开路

3. **模块版本兼容性**：

    - 使用的固件版本与模块硬件不匹配
    - 特定批次模块存在硬件差异
    - 需要使用对应的固件版本

**解决方法：**

1. **重新生成固件**：

    - 在智能公元平台检查命令词回复语设置
    - 确认已录制或选择了合适的回复音
    - 重新生成固件并烧录测试

2. **检查硬件连接**：

    - 重新焊接喇叭连接线，确保接触良好
    - 测试使用其他喇叭验证模块功能
    - 检查功放电路关键元器件

3. **使用官方测试固件**：

    - 下载官方出厂固件进行测试
    - 如果出厂固件正常，说明是自定义固件问题
    - 联系厂家获取正确的测试固件

**预防措施：**

- 烧录前测试喇叭和功放电路
- 保留完好的固件备份版本
- 建立功能测试清单，逐项验证
- 记录正常工作的固件版本和配置

**注意事项：**

- 唤醒音正常而命令词无声，通常是软件配置问题
- 硬件问题一般会导致所有音频功能异常
- 恢复出厂固件后问题依旧，需要重点检查硬件
- 如多块模块出现相同问题，可能是批次性质量问题


---

### CI-33T模块如何烧录不同固件并进行分类管理？

**问题描述：**

同一批CI-33T模块需要烧录两种不同的固件（家庭终端和酒店主终端），要求在烧录和发货时进行明确区分，避免混淆。

**解决方案：**

**固件信息确认：**

1. **家庭终端固件**：

    - 开机播报：我是供氧精灵小峰，很高兴为您服务，请用"小峰小峰"或者"小峰在不在"唤醒我
    - 唤醒词：小峰小峰、小峰在不在
    - 回复语：小峰在这儿、主人请讲、主人，有什么可以帮到你
    - MD5校验值：99645bac369faf4f0f2f08ecec580c12

2. **酒店主终端固件**：

    - 开机播报：您好，欢迎使用酒店有氧房间智能终端，请用微信扫码开启供氧功能，祝您旅途愉快
    - 唤醒词：小峰小峰、小峰在不在
    - 回复语：小峰在这儿、主人请讲、主人，有什么可以帮到你
    - MD5校验值：08dded467b76eb638401a89e650fda68

![家庭终端唤醒词配置](./img/493e59e3.jpg)

*家庭终端固件的唤醒词配置界面*

![家庭终端命令词列表](./img/c9ee2da3.jpg)

*家庭终端固件的命令词配置界面*

![酒店主终端唤醒词配置](./img/7373b855.jpg)

*酒店主终端固件的唤醒词配置界面*



**烧录管理流程：**

1. **批次规划**：

    - 明确各型号的烧录数量（如：酒店主终端750套、家庭终端450套）
    - 按批次分时段进行烧录，避免同时操作造成混淆

2. **烧录记录管理**：

    | 固件类型 | 烧录数量 | MD5值 | 烧录日期 | 标记方式 |
    |---------|---------|-------|---------|---------|
    | 家庭终端 | 450 | 99645bac... | 2025-07-10 | 标签A |
    | 酒店主终端 | 750 | 08dded46... | 2025-07-10 | 标签B |

3. **物理标记方法**：

    - 使用不同颜色的标签贴在包装袋上
    - 在模块本体边缘做标记（如点胶位置区分）
    - 建立烧录清单，记录每个模块的序列号和固件类型

4. **发货管理**：

    - 按固件类型分开包装
    - 在外包装上明确标注"家庭终端"或"酒店主终端"
    - 提供发货清单，注明各型号数量

**注意事项：**

- 烧录前务必确认MD5校验值正确
- 建议先烧录小批量测试，确认无误后再大批量烧录
- 保留完整的烧录记录，便于后期追溯
- 不同固件的模块要严格分开存放，避免混料


---

### CI-33T烧录时需要注意哪些开关设置？

**问题描述：**

CI-33T开发板上有8个小开关，烧录前需要了解正确的开关设置，否则会导致烧录失败。

**解决方案：**

**开关设置要求：**

烧录前必须将开发板上的8个小开关拨到正确位置：

- **拨动方向**：将开关拨到靠近字母的一侧
- **远离数字**：即远离数字标识的一端
- **错误操作**：如果开关位置错误，会一直报错导致烧录失败

**操作步骤：**

1. **检查所有开关位置**
    - 确认8个开关都在字母侧
    - 不要有任何开关留在数字侧
    - 轻拨开关，避免用力过猛

2. **连接烧录器**
    - 使用正确的烧录接口
    - 确保连接稳固
    - 检查供电电压

3. **开始烧录**
    - 开关位置正确后才能正常烧录
    - 观察烧录进度条
    - 等待烧录完成提示

**常见错误：**

- 开关拨错方向导致无法识别
- 部分开关未拨到位
- 烧录工具显示连接失败

**注意事项：**

- 烧录前务必检查所有开关位置
- 这是CI-33T烧录的必要条件
- 烧录成功后开关位置不影响正常使用

![CI-33T烧录开关设置](./img/71b222b9-ci33t-switch.jpg)


---

### CI-33T烧录失败怎么办？开发板开关注意事项

**问题描述：**

在使用CI-33T芯片进行烧录时，烧录失败，需要了解正确的烧录操作注意事项，特别是开发板上开关的正确设置。

**解决方案：**

**烧录失败常见原因：**

1. **开关设置错误**：

    - CI-33T开发板上有8个小开关
    - 烧录前必须将所有开关拨到正确位置
    - 错误的开关设置会导致烧录一直失败

2. **正确开关设置**：

    - 将8个开关全部拨到**靠近字母的一侧**
    - 同时要**远离数字的一端**
    - 这个设置是进入烧录模式的必要条件

**操作步骤：**

1. **开关设置**：

    - 检查开发板上的8个DIP开关
    - 确认所有开关都在字母侧（远离数字侧）
    - 如有开关在错误位置，烧录会一直报错

2. **烧录连接**：

    - 使用正确的串口连接方式
    - 确保电源稳定供应
    - 检查接地连接良好

3. **烧录执行**：

    - 打开烧录软件
    - 选择正确的固件文件
    - 开始烧录过程

**开关位置说明：**

```
开关示意图：
[开关1] [开关2] [开关3] [开关4]
[开关5] [开关6] [开关7] [开关8]

正确设置（烧录模式）：
    OFF（字母侧）OFF（字母侧）OFF（字母侧）OFF（字母侧）
    OFF（字母侧）OFF（字母侧）OFF（字母侧）OFF（字母侧）

错误设置（正常模式）：
    ON（数字侧）ON（数字侧）ON（数字侧）ON（数字侧）
    ON（数字侧）ON（数字侧）ON（数字侧）ON（数字侧）
```

**注意事项：**

- 烧录前务必检查所有8个开关的位置
- 开关设置错误是导致烧录失败的常见原因
- 烧录完成后，可根据需要将开关拨回工作位置
- 保留开关设置说明，便于后续批量生产使用

![CI-33T烧录注意事项](./img/71b222b9.jpg)

*CI-33T开发板烧录注意事项：将8个小开关拨到靠近字母一侧，远离数字的一端*

**其他排查要点：**

1. **连接检查**：

    - 确认TX/RX线没有接反
    - 检查GND线连接牢固
    - 验证供电电压在规定范围内

2. **软件设置**：

    - 选择正确的芯片型号（CI1303）
    - 设置合适的波特率
    - 确认固件文件完整且未损坏

3. **环境因素**：

    - 避免在强电磁干扰环境下烧录
    - 使用质量良好的USB连接线
    - 确保电脑USB端口供电稳定


---

### CI-33T内存装满会导致烧录失败和部分功能失效吗？

**问题描述：**

使用4M Flash的CI-33T模块时，如果内存装得太满，是否会导致烧录失败，以及部分口令无法正常工作。

**问题描述：**

CI-33T模块在内存装满的情况下确实会出现问题，包括烧录失败和部分功能无法正常使用。

**解决方案：**

**问题分析：**

1. **内存容量限制**：

    - CI-33T总Flash容量为4MB
    - 系统程序占用一定空间
    - 剩余空间用于存储语音资源和配置数据

2. **装满影响**：

    - 烧录过程可能失败或中断
    - 生成成功但激活口令异常
    - 其他口令执行失败

**具体表现：**

- 烧录过程：可以成功完成固件生成
- 激活测试：唤醒词功能正常
- 功能缺陷：其他命令词无法正确响应

**解决方法：**

1. **减少内容占用**：

    - 删除不必要的语音文件
    - 减少命令词数量
    - 优化语音资源压缩

2. **分批测试验证**：

    - 先配置少量功能进行测试
    - 确认基本功能正常后再逐步添加
    - 记录内存占用情况

3. **版本差异考虑**：

    - 测试版本与正式版本可能存在差异
    - 两个版本的编译配置可能不同
    - 建议使用相同的生成环境

**预防措施：**

1. **内存规划**：

    - 预留系统程序的内存空间
    - 计算语音资源的存储需求
    - 控制总内存使用在80%以内

2. **资源优化**：

    - 使用更高效的音频编码
    - 删除重复或冗余的语音内容
    - 合理配置采样率和音质

3. **分阶段开发**：

    - 核心功能优先配置
    - 扩展功能后续添加
    - 每个阶段都进行充分测试

**测试验证建议：**

- 在删减部分内容后重新烧录测试
- 逐个验证所有命令词的响应
- 记录成功配置的内存占用情况
- 保留最终版本的配置备份

**注意事项：**

- CI-33T虽然支持500条词条，但实际配置需考虑内存限制
- Flash接近满载时，系统稳定性会下降
- 建议定期清理无用内容，保持足够余量
- 生产前务必进行完整的功能验证测试

### 固件生成失败提示内存不足怎么办？

**问题描述：**

在智能公元平台生成固件时，提示"生成失败，生成的固件超大，请删减配置项目，选用小模型或使用组合播报"。

**解决方案：**

**问题原因：**

- 配置的命令词或功能过多，导致固件文件超出Flash容量限制
- 语音模型占用空间较大
- 播报音频文件占用过多存储空间

**解决方法：**

1. **删减配置项目**：

    - 减少命令词数量，只保留核心功能
    - 删除不常用的播报内容
    - 简化控制逻辑，避免重复功能

2. **选用小模型**：

    - 在平台中选择占用空间较小的语音识别模型
    - 权衡识别效果和资源占用
    - 必要时考虑升级更大容量的模块

3. **使用组合播报**：

    - 将固定播报内容拆分为多个小段
    - 通过组合方式生成完整播报
    - 减少单个音频文件的存储占用

**操作建议：**

- 优先保留核心功能，次要功能可考虑分阶段实现
- 如需完整功能，建议使用CI-33T等更大容量的模块
- 测试固件时先验证核心功能正常

![固件生成失败提示](./img/21d2c2ff.jpg)

*固件生成工具提示内存不足的错误信息*

**注意事项：**

- 不同模块的Flash容量不同，需根据实际硬件选择合适的配置
- 固件大小通常需要预留20-30%的空间作为余量
- 建议分阶段配置功能，避免一次性添加过多特性


---


---

### 固件生成时提示超过3276000字节怎么办？

**问题描述：**

在生成固件时，系统提示"生成失败，生成的固件超大(3276000字节)，请删减配置项目，选用小模型或使用组合播报"。

**解决方案：**

**问题分析：**

3276000字节约3.12MB，这个大小已经接近或超过了某些模块的Flash容量上限，特别是对于配置了讲故事等长文本内容的项目。

**具体解决方法：**

1. **删减配置项目**

    - 减少命令词数量，只保留核心功能
    - 删除不必要的播报内容，特别是长文本
    - 简化控制逻辑，避免重复功能

2. **使用小模型**

    - 在平台中选择"安静环境"等小型语音识别模型
    - 小模型Flash占用可从1.3M降至0.6M
    - 权衡识别效果和资源占用

3. **采用组合播报**

    - 将长篇内容（如故事）拆分为多个小段
    - 通过组合方式实现完整播报
    - 显著减少单个音频文件的存储占用

4. **更换大容量模块**

    - 如需要完整功能，考虑升级到CI-33T（500条词条）
    - 或使用4MB Flash的CI-1303模块
    - 根据实际需求选择合适的硬件

![固件超大错误提示](./img/39e7be51.jpg)

*生成失败提示固件超过3276000字节*

**实际案例：**

配置讲故事功能时容易出现此问题，因为：

- 故事内容通常较长，占用大量音频存储空间
- 多个故事叠加会快速消耗Flash容量
- 建议先测试短内容，确认功能后再添加更多

**优化建议：**

- 优先实现核心功能，长内容功能可后期迭代添加
- 考虑使用TTS合成替代录音播报
- 评估是否真的需要离线存储所有内容

**注意事项：**

- 固件大小超出限制时无法生成，必须减少内容
- 不同模块的Flash容量差异较大，选型时需考虑功能需求
- 建议在项目初期就规划好功能优先级


---


---

### 烧录时进度卡在0%怎么办？

**问题描述：**

使用PACK_UPDATE_TOOLS工具烧录CI-33T固件时，烧录进度一直卡在0%，无法继续进行，怀疑是固件过大导致。

**解决方案：**

**1. 检查固件与芯片匹配**

- 确认使用的是CI-33T的固件文件
- 文件名通常包含"jx_ci_33t_firmware"标识
- CI-33T需要使用1303芯片，不能用在其他模块上

**2. 更新烧录工具版本**

- 下载最新版本的PACK_UPDATE_TOOL.exe
- 旧版本工具可能存在兼容性问题
- 技术支持提供的链接：https://smartpi-shop-1300587620.cos.ap-beijing.myqcloud.com/mcrm/2024/0814/0953/1723600420177866bc0e242b684.exe

**3. 正确选择芯片型号**

- 在烧录工具中选择"CI1303"芯片型号
- 不要选择其他错误的芯片型号
- 芯片型号必须与固件文件匹配

![烧录工具界面](../faq/img/6b1d4018.jpg)

*烧录工具界面，注意选择正确的芯片型号*

![芯片型号选择](../faq/img/7a785383.jpg)

*必须选择CI1303芯片型号才能正常烧录*

**4. 重新上电操作**

- 点击烧录开始后，快速重新给模块上电
- 不要关闭软件，保持软件运行状态
- 重新插拔模块的电源线即可

**5. 检查硬件连接**

- 确认B6/B7串口连接正确（TX-RX交叉）
- 检查供电电压是否稳定在5V
- 使用质量良好的连接线

**注意事项：**

- 固件文件过大不是导致卡住的主要原因
- 芯片型号与固件不匹配会导致烧录失败
- CI-33T必须使用CI1303选项进行烧录
- 如果多次尝试失败，考虑更换烧录环境或电脑

---

### CI-33T无法获取日志输出且无开机语音怎么办？

**问题描述：**

在使用CI-33T芯片时，无法获取日志输出，且烧录固件后无开机语音响应。同时在SDK编译中屏蔽了日志串口配置，导致串口输出为无意义符号。

**解决方案：**

**1. 检查日志引脚配置**

- B5、B6引脚默认为日志输出口
- 在平台配置中，确保P14和B6、P15和B7引脚配置正确
- 如果将B5/B6用作普通串口，则不会有日志输出

![日志引脚配置](./img/ea33e23f.jpg)

*平台配置中P14和P15引脚被设置为烧录功能引脚，但默认为日志输出口*

**2. 启用日志功能**

- 在SDK编译时，不能屏蔽`CONFIG_CI_LOG_UART`宏定义
- 确保`platform_init`函数中的`ci_log_init()`被正确调用
- 如果日志功能被禁用，串口会输出无意义符号

**3. 使用正确的烧录方法**

- 使用PACK_UPDATE_TOOLS工具进行烧录
- 确保选择正确的串口号和芯片型号
- 烧录完成后检查固件校验码

![固件烧录工具](./img/47315e09.jpg)

*PACK_UPDATE_TOOLS烧录界面，显示固件信息和烧录进度*

**4. 新旧版本兼容性注意**

- SU-03T1新版本与旧版本固件不兼容
- 早期二次开发固件在新版本上不可用
- 必须使用平台新生成的固件

![版本兼容性说明](./img/e25ad336.jpg)

*SU-03T1新旧版本固件兼容性对比*

**注意事项：**

- B5/B6引脚用作串口时，日志功能会被占用
- SDK开发时如需调试，务必保持日志功能开启
- 新版硬件必须使用对应版本的固件和烧录工具
- 烧录前检查所有硬件连接和配置设置

---

### CI-33T配置自定义协议后串口无输出怎么办？

**问题描述：**

在CI-33T模块中配置了指令触发和GPIO输出，唤醒识别正常，GPIO也能正常拉高，但串口没有收到预期的协议消息。

**解决方案：**

**1. 检查配置参数**

- 确认UART1_TX和UART1_RX已正确配置
- 波特率设置为115200，数据位8，停止位1，校验位无
- 检查消息模板的Checksum字段是否正确设置

![消息模板配置](./img/05c6df53.jpg)

![GPIO和UART引脚配置](./img/5718d34b.jpg)

**2. 验证固件兼容性**

- 目前自定义协议功能仅对JX-12F WiFi模块开放
- CI-33T等其他模块暂不支持自定义协议功能
- 可使用串口配置格式或固定协议替代

**3. 使用串口配置格式**

- 将协议内容改为直接的串口输出格式
- 不使用消息模板，直接输出16进制数据
- 示例：发送AA 02 00 00 BB

![指令触发配置](./img/ffb81837.jpg)

![消息模板参数](./img/42a3a1ea.jpg)

**4. 导出模型进行调试**

- 在平台中导出模型文件（.json格式）
- 技术支持可通过模型文件分析问题
- 导出位置：产品管理→选择产品→点击导出

![完整指令流程配置](./img/2de8c6de.jpg)

**注意事项：**

- CI-33T的GPIO输出正常说明识别部分工作正常
- 串口无输出可能是协议配置与固件不兼容导致
- 建议先用固定格式测试串口功能
- 如需自定义协议，考虑使用JX-12F WiFi模块

---

### CI-33T如何实现远程固件更新？

**问题描述：**

CI-33T模块需要通过ARM设备（如RV1126B）进行远程固件更新，现场设备没有Wi-Fi但具有网口，希望了解可行的更新方案。

**解决方案：**

**CI-33T更新限制：**

- CI-33T是离线模块，不支持OTA在线升级
- 只能通过离线方式更新固件
- 无法直接通过网络接口进行烧录

**可行的解决方案：**

1. **大批量预烧录方案**：

    - 在出厂前批量烧录所需固件
    - 适合大批量部署的场景
    - 任意模块都支持此方案

2. **使用支持OTA的模块**：

    - **JX-A7T**：支持远程在线升级，可通过微信小程序OTA
    - **JX-12F**：可借助微信小程序进行升级
    - 性能与CI-33T基本相同，只是增加了在线升级功能

3. **定制开发方案**：

    - 购买JX-A7T模块走定制开发
    - 根据具体需求定制适合的产品
    - 需要联系技术支持评估费用

**现场更新建议：**

- 如果设备必须现场更新且数量众多
- 建议选择支持OTA的模块型号
- 或者在产品设计中预留物理更新接口

**注意事项：**

- CI-33T无法通过ARM设备串口直接烧录
- 空芯片无法通过串口调试器烧录
- 批量更新需求建议在产品设计阶段就考虑模块选型

![CI-33T与ARM连接示意图](./img/6b2a7cff.jpg)

*CI-33T连接到RV1126B系统的典型应用*

### CI-33T串口每十秒自动输出信息怎么办？

**问题描述：**

CI-33T模块串口每十秒自动输出一堆信息，疑似模块在自动重启。

**解决方案：**

- 确认是否使用的是出厂固件
- 检查是否自行烧录过其他固件版本
- 如使用非出厂固件，建议重新烧录官方固件

**注意事项：**

- 出厂固件默认不会周期性输出信息
- 定期输出信息通常表示固件异常或配置不当
- 保留原始固件备份，便于问题排查时恢复


---

### CI-33T是否有STM32测试例程？

**问题描述：**

需要了解是否有STM32与CI-33T语音模块配合使用的测试例程代码。

**解决方案：**

目前没有提供STM32与CI-33T配合的专用测试例程。

- 单独的CI-33T模块测试例程是存在的
- 如需与MCU配合使用，可参考单模块例程进行开发
- 建议根据具体应用场景自行编写适配代码

**注意事项：**

- 开发时可参考CI-33T的通信协议文档
- 注意串口通信的波特率和数据格式设置
- 建议先使用单模块例程验证功能正常

### CI-33T烧录TTS固件后每十秒自动重启怎么办？

**问题描述：**

烧录CI-33T开发包中的TTS文字转语音固件后，模块每十秒自动重启。

**解决方案：**

- **问题原因**：

    - 模块没有授权
    - TTS固件需要特殊授权才能使用
    - 未授权模块会持续重启无法正常工作

- **解决方法**：

    1. 购买已授权的模块
    2. 联系销售商确认授权状态
    3. 使用普通语音识别固件替代TTS固件

- **功能限制**：

    - TTS和语音识别不能共存
    - 授权后也只能使用TTS功能
    - 无法同时使用语音命令识别

**注意事项：**

- TTS功能需要专门的授权版本
- 购买时确认模块是否已授权
- 保留购买凭证便于售后支持

### CI-33T使用jixin_tools.exe软件无响应怎么办？

**问题描述：**

烧录出厂固件后，使用jixin_tools.exe软件进行语音合成时，点击开始合成后没有任何响应。

**解决方案：**

- **故障排查**：

    1. 检查串口线是否正确连接
    2. 确认COM端口选择正确
    3. 检查模块是否已正常启动
    4. 验证波特率设置是否匹配

- **可能原因**：

    - 模块固件异常或未完全启动
    - 串口通信参数不正确
    - 模块与软件版本不匹配
    - 模块硬件故障

- **解决方法**：

    1. 重新烧录官方出厂固件
    2. 使用其他串口调试工具测试通信
    3. 更换串口线或USB转TTL模块
    4. 在另一台电脑上测试

**注意事项：**

- 操作记录只显示发送命令说明通信异常
- 确保模块处于正常工作状态
- 保留故障时的截图便于分析问题

---

### CI-33T烧录时提示"无法打开固件文件"怎么办？

**问题描述：**

使用烧录工具打开固件文件时，提示"无法打开固件文件！"，需要排查固件文件路径、文件名和软件使用问题。

**解决方案：**

**1. 检查固件文件**

**正确文件名**：

- 标准固件文件名：`jx_ci_33t_firmware.bin`
- 错误示例：`Firmware_V2.0.0.bin`
- 文件必须是从智能公元平台生成的.bin文件

**文件路径检查**：

- 避免路径中包含中文或特殊字符
- 确保文件完整下载，没有损坏
- 检查文件权限是否可读

![错误的固件文件名](./img/d0ba5257.jpg)

**2. 烧录软件问题**

**MV ADS downloader错误**：

- 错误提示："Error: No downloader.exe found"
- 解决：重新安装烧录软件或解压完整压缩包
- 确保所有文件在同一目录下

**3. 正确的烧录流程**

**步骤一：获取固件**

1. 在智能公元平台完成配置
2. 生成固件文件并下载
3. 解压得到固件包

**步骤二：准备烧录**

1. 解压固件包找到`jx_ci_33t_firmware.bin`
2. 确保烧录工具版本匹配
3. 正确连接硬件（B6/B7引脚）

![正确固件路径](./img/76394770.jpg)

**步骤三：执行烧录**

1. 选择正确的固件文件
2. 配置串口参数（波特率115200）
3. 点击开始烧录

**4. 常见问题及解决**

**文件选择错误**：

- 不能选择自定义命名的文件
- 必须使用平台生成的标准文件名
- 注意区分不同模块的固件文件

**软件环境问题**：

- 使用管理员权限运行软件
- 关闭杀毒软件的实时防护
- 检查.NET框架是否安装完整

**注意事项：**

- 固件文件名包含模块信息，不能随意更改
- 烧录失败后需要断电重启模块
- 不同批次的模块可能需要不同版本的烧录工具
- 保留完整的错误截图便于技术支持分析

---

### CI-33T串口通信时16进制数据显示不一致怎么办？

**问题描述：**

在配置CI-33T串口通信参数时，发送的16进制参数（如0x11）与接收窗口显示的数据不一致，导致通信异常。

**解决方案：**

**问题分析：**

- 发送端已设置为16进制发送模式
- 接收端可能未设置为16进制显示模式
- 数据实际传输正确，只是显示格式问题

**解决方法：**

1. **检查串口工具设置**：

    - 确认发送设置：已勾选"发送16进制数"
    - 检查接收设置：需勾选"16进制显示"
    - 两个设置必须同时启用

![串口调试工具配置示例](./img/e700dfee.jpg)

2. **XCOM等调试工具配置**：

    ```
    发送区域设置：
    ✓ 发送16进制数: 选中
    ✓ 参数: 11 (代表0x11)

    接收区域设置：
    ✓ 16进制显示: 必须勾选
    ✓ 自动换行: 建议启用
    ✓ 显示时间戳: 可选
    ```

3. **验证通信正常**：

    - 发送0x11应显示为11（HEX格式）
    - 其他数据如FD、FE FF FC等为正常通信数据
    - 如需发送ASCII字符，取消16进制发送选项

**常见错误：**

- 只设置发送为16进制，接收仍为ASCII
- 接收数据显示乱码（实际是HEX数据以ASCII显示）
- 误认为通信故障，实为显示格式问题

**注意事项：**

- 串口通信时发送和接收的格式必须匹配
- 16进制模式下，每个字节显示为两个十六进制字符
- 通信协议中的特殊帧头帧尾在HEX下更容易识别
- 建议保存配置以便下次使用

---

### CI-33T固件大小超出Flash容量怎么办？

**问题描述：**

烧录CI-33T模块时，烧录工具提示"固件大小超出该设备flash大小"，导致无法完成烧录。

**解决方案：**

**1. 检查Flash容量**

**CI-33T规格说明**：

- Flash容量：1MB（实际可用容量略小）
- 保留空间：部分Flash用于系统信息
- 最大固件：约980KB-1000KB

**容量计算**：

- 系统占用：约20-50KB
- 用户可用：950KB-1000KB
- 超出部分：无法烧录

**2. 固件大小优化**

**减少词条数量**：

- CI-33T标准支持：500条词条
- 实际建议：控制在400条以内
- 每条词条：约2KB存储空间

**优化音频文件**：

- 使用较低采样率（16kHz即可）
- 缩短播报音频时长
- 压缩音频质量（6-8kbps）

**3. 其他优化建议**

**精简配置**：

- 减少不必要的控制命令
- 优化唤醒词设置
- 移除未使用的功能模块

**分段烧录**：

- 如必须使用大量词条
- 考虑使用CI-73T（2MB Flash）
- 或采用外部存储方案

**4. 验证方法**

**检查固件大小**：

- 生成固件后查看.bin文件大小
- 确保在可用容量范围内
- 预留10%的缓冲空间

**注意事项：**

- Flash容量是硬件限制，无法通过软件突破
- 不同固件版本占用空间可能略有差异
- 建议定期清理不需要的词条和音频
- 设计阶段应考虑容量限制，合理规划功能

---


### CI-33T模块的串口通信设置方法是什么？

**问题描述：**

需要了解CI-33T模块的串口通信参数和设置方法，以及与外部设备的连接方式。

**解决方案：**

CI-33T模块使用TTL电平串口通信，主要参数和设置方法如下：

**通信规格：**

- **通信电平**：TTL（3.3V）
- **接口类型**：UART
- **波特率**：可配置（默认通常为9600）
- **数据格式**：8N1（8位数据，无校验，1位停止）

**通信设置说明：**

1. **不可自定义设置**：

    - 串口参数无法在后台页面自定义设置
    - 使用固定的通信协议
    - 需要外部设备适应模块的设置

2. **TTL转485方案**：

    - 如需485通信，需自行添加转换电路
    - 可使用TTL转485模块（如MAX485芯片）
    - 注意隔离和抗干扰设计

**常见通信失败原因：**

1. **线路连接问题**：

    - RX/TX接反（应交叉连接）
    - 地线未连接
    - 接触不良

2. **参数不匹配**：

    - 波特率设置错误
    - 数据格式不一致
    - 未使用HEX格式发送

3. **电平不匹配**：

    - 直接连接5V设备
    - 未做电平转换

**注意事项：**

- 确保通信双方电平一致
- 使用交叉连接（TX对RX，RX对TX）
- 串口通信失败先检查物理连接和参数设置

---

### CI-33T串口通信异常（串口'睡觉'）怎么办？

**问题描述：**

CI-33T芯片在使用过程中出现串口通信异常，表现为串口无响应或'睡觉'状态，之前的解决方案也无法完全解决。

**解决方案：**

**问题现象：**

- 串口突然无响应，如同进入休眠状态
- 重新上电后问题可能暂时消失
- 使用固定格式也无法完全避免问题复发

**临时解决方法：**

1. **重新创建固件项目**：

    - 在智能公元平台新建项目
    - 重新配置所有语音指令和串口参数
    - 生成全新固件替换现有固件

2. **使用串口1替代**：

    - 将数据通信改到串口1
    - 串口1相对更稳定
    - 需要修改硬件连接

3. **排查硬件连接**：

    - 检查串口线路连接是否牢固
    - 确认供电电压稳定
    - 排除电磁干扰源

**根本解决建议：**

- 该问题可能是平台生成固件时的兼容性问题
- 建议联系技术支持获取特定版本的固件
- 考虑使用其他型号模块（如JX-12F）替代

**注意事项：**

- 串口'睡觉'问题偶发性较强，难以彻底复现
- 保留出现问题的具体时间点和环境信息
- 如问题频繁出现，建议更换模块型号

---

### CI-33T使用串口1和串口2时，接收数据乱序或丢失怎么办？

**问题描述：**

CI-33T芯片使用串口1和串口2同时进行通信时，出现接收数据乱序或数据丢失的问题，影响通信可靠性。

**解决方案：**

**问题分析：**

- 双串口同时工作可能导致中断冲突
- 数据缓冲区可能溢出或覆盖
- 通信时序不匹配导致解析错误

**解决方法：**

1. **分时通信策略**：

    - 采用主从或轮流机制
    - 避免同时发送和接收
    - 使用握手机制确保通信顺序

2. **增加数据缓冲**：

    - 在接收端增加缓冲区大小
    - 使用队列管理接收数据
    - 处理突发数据流量

3. **协议优化**：

    - 添加数据包头和校验
    - 使用序列号确保顺序
    - 实现超时重发机制

4. **硬件层面改进**：

    - 使用带屏蔽的连接线
    - 在串口线上加磁珠或滤波器
    - 缩短连接线减少干扰

**配置建议：**

1. **串口参数配置**：

    - 适当降低波特率提高稳定性
    - 增加数据位停止位
    - 设置合理的超时时间

2. **软件架构设计**：

    - 为每个串口创建独立处理任务
    - 使用状态机管理通信状态
    - 实现错误恢复机制

3. **测试验证方法**：

    - 使用串口助手分别测试
    - 发送已知数据序列验证接收
    - 记录乱序和丢失的具体场景

**实施步骤：**

1. 单独测试每个串口功能
2. 逐步增加第二个串口的通信
3. 监控数据完整性和时序
4. 根据测试结果调整配置

**注意事项：**

- CI-33T双串口功能需要正确配置
- 不同应用场景可能需要不同的通信策略
- 建议保留详细的测试日志
- 如问题持续存在，联系技术支持分析

---

---

### CI-33T串口0数据接收出现干扰怎么办？

**问题描述：**

CI-33T芯片使用串口0进行数据接收时，出现数据被干扰、无法正确解析的问题，即使使用固定帧头格式也无法正常工作。

**解决方案：**

**问题分析：**

- 串口0（B6/B7引脚）存在硬件兼容性问题
- 即使使用固定帧头格式（如AA 55 数据 55 AA）也无法解决干扰问题
- 可能是平台生成固件时的底层配置问题

**解决方法：**

1. **使用串口1替代**：

    - 改用串口1进行数据通信
    - 串口1在相同配置下可以正常工作
    - 固定帧头格式在串口1上运行正常

2. **重新创建固件项目**：

    - 在智能公元平台新建CI-33T项目
    - 重新配置所有功能参数
    - 生成全新固件进行测试

3. **硬件修改方案**：

    - 如必须使用串口0，可考虑修改硬件设计
    - 将串口通信接口改接到其他可用引脚
    - 或使用支持多串口的MCU进行中转

**临时解决方案：**

- 优先使用串口1进行数据收发
- 保留串口0仅用于烧录和调试
- 在产品设计阶段就避开串口0的数据通信功能

**注意事项：**

- 串口0的问题可能是硬件设计限制，软件配置难以完全解决
- 建议在新产品设计时优先考虑使用串口1
- 如问题持续存在，请联系技术支持确认硬件批次问题

---

### CI-33T模块使用485通信无法正常收发指令怎么办？

**问题描述：**

使用USB可以正常通信，但使用485通讯线时无法正常收发指令。

**解决方案：**

CI-33T模块本身是TTL电平，需要通过转换电路才能与485设备通信。

**问题分析：**

1. **电平不匹配**：

    - 模块输出：TTL（3.3V）
    - 485设备：RS-485标准
    - 需要电平转换电路

2. **转换方案**：

    - 使用TTL转485模块
    - 常用芯片：MAX485、SN75176等
    - 注意电源和隔离设计

**解决方法：**

1. **添加转换电路**：
    ```
    CI-33T ← TTL转485模块 → 485设备
    (3.3V)    (MAX485)     (RS-485)
    ```

2. **接线要点**：

    - TTL端：TX→RXD，RX→TXD，GND→GND
    - 485端：A→A，B→B，GND→GND
    - 注意485设备的A/B定义

3. **调试建议**：

    - 先用TTL直接通信验证模块功能
    - 再测试转换电路是否正常
    - 最后连接完整系统测试

**注意事项：**

- 不能直接将485信号接到模块串口
- 转换电路需要单独供电
- 长距离通信注意加终端电阻
- 工业环境建议使用隔离型转换模块

---

### CI-33T固件烧录时出现err -11错误怎么办？

**问题描述：**

烧录CI-33T模块固件时，出现"err -11"错误，提示"maskrom出现异常，该芯片可能存在问题"。

**解决方案：**

**1. 确认模块型号**

- 检查模块丝印：CI-33T还是CI-03T
- CI-33T使用CI1303芯片
- CI-03T使用CI1302芯片

**2. 选择正确的芯片型号**

- CI-33T模块：烧录时选择CI1303
- CI-03T模块：烧录时选择CI1302
- 型号不匹配会导致烧录失败

**3. 排查步骤**

- 检查串口连接是否正常
- 确认烧录工具驱动已安装
- 尝试更换USB端口或数据线
- 检查是否有外界信号干扰

**4. 固件版本说明**

- CI-33T和CI-03T使用不同固件
- 内存容量不同：CI-33T（500条）＞CI-03T（300条）
- 不能通用固件

**注意事项：**

- 务必根据模块实际型号选择对应的芯片
- CI-33T的内存更大，读取方式不同
- 使用错误型号的固件可能导致功能异常
- 如持续失败，联系技术支持获取正确固件

---

### CI-33T和CI-03T的固件是否可以通用？

**问题描述：**

CI-33T和CI-03T模块的固件是否可以互相使用，两个型号的主要区别是什么。

**解决方案：**

**主要差异：**

1. **存储容量**
    - CI-03T：支持300条词条
    - CI-33T：支持500条词条

2. **芯片型号**
    - CI-03T：使用CI1302芯片
    - CI-33T：使用CI1303芯片

3. **内存规格**
    - CI-33T内存容量更大
    - 读取内存的方式不同

**固件兼容性：**

- 不可以通用固件
- CI-33T的固件无法在CI-03T上运行
- CI-03T的固件烧录到CI-33T功能会不正常

**注意事项：**

- 购买时确认需要的词条数量
- CI-33T适合需要更多词条的应用
- 配置时选择对应的模块型号
- 生成固件时型号要准确匹配

---

### 如何生成CI-33T的正式版本固件？

**问题描述：**

基本测试成功后，需要生成正式版本固件供客户测试，但平台显示新模型新功能暂无正式版本。

**解决方案：**

**版本说明：**

- 新功能和新模型暂时没有正式版本
- 当前提供的是测试版本
- 功能稳定，可以正常使用

**发布建议：**

1. **充分测试**
    - 完成所有功能测试
    - 验证性能满足需求
    - 记录测试结果和数据

2. **直接部署**
    - 使用测试版本进行客户测试
    - 实际测试结果即为产品性能
    - 无需等待正式版本

3. **文档说明**
    - 向客户说明当前为测试版本
    - 提供测试报告和性能数据
    - 明确功能已验证稳定

**注意事项：**

- 测试版本功能稳定，可以放心使用
- 不必纠结于版本名称
- 重点关注实际测试效果
- 项目进度以实测结果为准

---

### 固件生成失败且显示错误代码500如何解决？

**问题描述：**

在固件管理界面生成固件后，SDK状态显示"已生成"，但固件状态显示"待生成"，无法正常下载。尝试重新生成时出现错误提示"Request failed with status code 500"和"固件生成失败"。

**解决方案：**

**问题原因：**

- 服务器磁盘空间已满，导致固件生成失败
- 这是服务器端的问题，不是本地配置问题

**解决步骤：**

1. **等待服务器扩容**
    - 技术人员正在进行服务器磁盘扩容
    - 通常在几小时内可以完成

2. **重新生成固件**
    - 磁盘扩容完成后，创建新版本继承
    - 修改命令词和回复语（避免缓存问题）
    - 重新生成固件

3. **如果问题持续**
    - 删除部分占用内存较大的内容
    - 考虑使用更大内存的型号（如CI-33T）

![固件管理界面显示异常状态](./img/a64a4d9d.jpg)

![更多菜单选项](./img/4942777e.jpg)

![错误代码500提示](./img/6aebc4bf.jpg)

**注意事项：**

- 错误代码500表示服务器内部错误
- 磁盘满时会影响所有使用者的固件生成
- 重新生成前建议修改配置以清除缓存
- CI-33T相比CI-03T拥有更大的内存容量

---

### 如何通过串口烧录jx_ci_33t_firmware.bin文件？

**问题描述：**

需要了解如何将jx_ci_33t_firmware.bin固件文件通过串口烧录到CI-33T模块中，以及相关的烧录流程和工具。

**解决方案：**

**烧录准备：**

1. **确认模块状态**：

    - CI-33T模块必须已烧录过引导程序
    - 空片无法直接通过串口烧录
    - 出厂模块通常已预装引导程序

2. **准备烧录工具**：

    - 使用CI系列专用烧录软件
    - 准备USB转串口模块（如CH340）
    - 确认串口驱动已正确安装

**烧录步骤：**

1. **连接硬件**：

    - 将CI-33T模块的串口与USB转串口模块连接
    - 连接电源给模块供电
    - 在电脑上识别正确的COM端口

2. **打开烧录软件**：

    - 启动CI专用烧录工具
    - 选择对应的COM端口
    - 设置波特率（通常为115200）

3. **加载固件**：

    - 点击"打开"或"浏览"按钮
    - 选择jx_ci_33t_firmware.bin文件
    - 确认文件名和路径正确

4. **开始烧录**：

    - 点击"下载"或"烧录"按钮
    - 等待进度条到达100%
    - 烧录完成后取消勾选避免重复烧录

**固件配置说明：**

- 出厂固件仅包含基本命令词和唤醒词回复
- 如需实现自定义功能，需要在智能公元平台配置
- 平台地址：https://smartpi.cn/
- 登录后可创建产品并配置语音功能

**注意事项：**

- 确保使用的是CI系列专用烧录软件，不是SU系列
- 烧录过程中不要断开电源或串口连接
- 如烧录失败，尝试重新插拔USB或更换COM端口
- 自定义固件需要在平台配置后重新生成下载

---

### CI-33T烧录时PA4引脚可以悬空吗？

**问题描述：**

在使用CI-33T芯片进行烧录时，需要确认PA4引脚是否可以悬空处理，以及正确的连接方式。

**解决方案：**

PA4引脚可以悬空，默认为高电平，烧录时会自动识别进入烧录模式。

**技术说明：**

1. **PA4引脚功能**：

    - PA4引脚具有多重功能：GPIO PA4/PG_EN
    - 上电默认状态为高电平
    - 作为PG_EN时用于判断是否进入编程模式
    - 默认高电平即可进入烧录模式

2. **烧录模式识别**：

    - 模块上电时会自动检测PA4电平状态
    - 高电平（默认）：进入烧录模式
    - 低电平：正常运行模式
    - 悬空状态由于内部上拉，等效于高电平

**连接方式：**

1. **推荐处理方式**：

    - PA4引脚可以悬空不连接
    - 不需要接到地（GND）
    - 保持默认状态即可

2. **错误连接方式**：

    - 不要将PA4接到GND
    - 接地会导致无法进入烧录模式
    - 烧录时会提示无法连接或识别失败

**实际应用验证：**

根据用户实际测试，将PA4通过上拉电阻连接到3.3V电源的电路也可以正常烧录：

- 上拉电阻确保了高电平状态
- 烧录工具能够正常识别模块
- 烧录过程顺利完成

**注意事项：**

- PA4悬空是标准做法，无需特殊处理
- 烧录前确保其他烧录引脚（B6、B7）正确连接
- 如无法进入烧录模式，检查PA4是否被意外接地
- 烧录完成后PA4可作为普通GPIO使用

---

### CI-33T 使用新模型固件（v009之后）开机无播报且死机

**问题描述：**

使用 CI-33T 模块生成新模型固件（v00942、v00969、v00973 等）后，设备开机后无语音播报且出现死机现象。即使是新建项目只配置少量指令（3条）也无法正常工作，但使用老模型（v00487）则正常。

**解决方案：**

这是由于新模型的上电唤醒配置时序问题导致的。需要调整以下配置：

1. **添加上电唤醒延时**：

    在系统触发配置中：

    - 找到"上电唤醒"设置
    - 添加延时，建议 500ms
    - 避免上电时序冲突导致异常

    ![系统触发配置](./img/95dbd7ed.jpg)

2. **禁止超时退出唤醒**：

    在添加控制配置中：

    - 系统设置添加延时
    - 操作设置为"禁止超时退出唤醒"
    - 解决上电唤醒时序问题

    ![添加控制配置](./img/89e55f68.jpg)

3. **设置开机播报**：

    确保以下配置正确：

    - 勾选"有开机播报"选项
    - 超时时间设置在 5-60 秒之间
    - 验证模块是否正常工作

    ![开机播报配置](./img/8634e820.jpg)

**问题原因：**

新模型固件对时序要求更严格，上电唤醒时如果没有任何延时，可能导致：

- 系统初始化未完成就执行唤醒操作
- 导致程序卡死或异常
- 无法正常响应后续指令

**注意事项：**

- 老模型（v00487 及以下）时序兼容性更好，但误唤醒率较高
- 新模型（v009 及以上）需要正确的时序配置
- 建议在新项目中使用上述配置方案
- 如果问题持续，可暂时回退到老模型使用

---

### CI-33T4丝印为什么显示为CI-33T1？

**问题描述：**

购买CI-33T4双麦模块后，发现芯片丝印显示为CI-33T1，与单麦模块的丝印相同，担心是否发错货。

**解决方案：**

CI-33T4和CI-33T1的丝印层是相同的，硬件上通过其他配置区分：

**1. 型号与丝印对应关系**

- **CI-33T1**：单麦不带晶振版本，丝印为CI-33T1
- **CI-33T4**：双麦带晶振版本，丝印也是CI-33T1
- 两个型号使用相同的丝印层设计

**2. 硬件区分方法**

除了丝印外，可通过以下方式区分：

- **麦克风数量**：T4有两个麦克风焊盘，T1只有一个
- **晶振配置**：T4自带晶振，T1需要外接
- **电阻位置**：T4在特定位置多一个配置电阻

**3. 功能对比**

| 型号 | 麦克风 | 晶振 | 主要用途 |
|------|---------|------|----------|
| CI-33T1 | 单麦 | 不带晶振 | 基础语音识别 |
| CI-33T4 | 双麦 | 带晶振 | 声源定位功能 |

**注意事项：**

- 丝印相同是正常设计，不影响产品功能
- 收到CI-33T4模块但丝印为T1无需担心
- 如需要使用声源定位功能，确保烧录对应的固件
- 可通过硬件配置（麦克风数量、晶振）确认实际型号

---

### 声源定位固件烧录后设备无响应怎么办？

**问题描述：**

烧录声源定位功能的固件后，设备无法正常响应唤醒指令，即使成功唤醒后其他命令词也无法触发。

**解决方案：**

**1. 使用正确的固件版本**

- 确保使用官方提供的声源定位专用固件
- 不同的固件版本可能存在兼容性问题
- 联系技术支持获取最新的测试固件

**2. 验证硬件配置**

- 确认模块型号正确（CI-33T4支持双麦声源定位）
- 检查两个麦克风都已正确焊接
- 验证晶振工作正常

**3. 固件重新烧录**

- 完全擦除原有固件
- 使用官方提供的声源定位固件包
- 确保烧录过程100%完成且无错误

**4. 测试步骤**

- 烧录完成后先断电重启
- 使用标准唤醒词进行测试
- 保持安静环境，避免噪声干扰
- 测试距离建议在1-3米范围内

**注意事项：**

- 声源定位功能对硬件要求较高，必须使用双麦克风
- 不同批次的模块可能需要适配不同版本的固件
- 测试环境应避免回声和强噪声
- 如果问题持续，需要提供模块批次号以便技术支持排查

### 日语固件生成失败提示"An error has happened when Background code running"怎么办？

**问题描述：**

在生成日语固件时，系统提示"An error has happened when Background code running!"错误，且更换为CI-33T型号后仍出现相同错误。

**解决方案：**

- CI-03T目前的日语模型对不在字典内的词不会自动标音
- 大部分词不在字典内时会导致生成失败
- 建议使用CI-33T来做日语固件，CI-33T的模型会自动标音
- 可联系技术支持手工制作固件

**注意事项：**

- CI-03T和CI-33T的日语模型处理能力不同
- CI-33T更适合处理包含大量非标准词汇的日语项目
- 平台日语生成问题已修复，可重新尝试生成

---


---

### 固件大小超出设备Flash容量怎么办？

**问题描述：**

使用PACK_UPDATE_TOOLS烧录固件时，提示"固件大小超出该设备flash大小"的错误。

**解决方案：**

**1. 调整声纹注册遍数**

- 将"注册遍数"从默认值3改为2
- 可以显著减少固件大小
- 位置：智能公元平台 → 命令词自定义 → 声纹识别选项卡

![调整注册遍数设置](./img/22e714c8.jpg)

**2. 减少声纹识别词数量**

- 删除不必要的声纹识别词
- 每个声纹词都会占用额外的存储空间
- 保留核心功能的声纹识别词即可

**3. 删除不必要的播报功能**

- 检查并删除非必要的播报操作
- 播报功能会占用较多内存空间
- 例如："删除声纹"、"清空声纹"等系统播报

![固件大小超出错误提示](./img/5790d879.jpg)

**4. 选择更大容量的芯片**

- CI-03T：支持较小固件（适合简单应用）
- CI-33T：支持更大固件（适合复杂功能）
- 开发阶段建议使用CI-33T，熟悉后再考虑优化

**优化建议：**

- 先从调整注册遍数开始，这是最简单有效的方法
- 逐步删除非必要功能，每次删除后重新生成固件测试
- 保留功能最小化原则，确保核心功能可用即可

**注意事项：**

- 每次修改配置后都需要重新生成并烧录固件
- CI-03T由于Flash容量较小，功能配置需要更加精简
- 开发复杂功能时，建议直接使用CI-33T芯片

---


---

### CI-33T烧录门锁固件后无法唤醒怎么办？

**问题描述：**

CI-33T烧录门锁固件后，设备提示"声纹芯片未授权"，且唤醒词"小智小智"无响应。

**解决方案：**

**1. 硬件连接检查**

- CI-33T需要使用M1+和M1-引脚连接麦克风
- 错误连接到其他引脚会导致无响应
- 检查原理图确认正确的引脚连接

![CI-03T与CI-33T连接原理图](../faq-hardware-design/img/d07299b8.jpg)

**2. 授权状态说明**

- "声纹芯片未授权"提示是正常的
- 未授权版本每5分钟会重启一次
- 唤醒功能应该正常工作，不受授权状态影响

**3. 唤醒词配置确认**

- 检查唤醒词是否正确设置为"小智小智"
- 确认唤醒灵敏度设置（建议设为"中"）
- 验证拼音配置：ni3 hao3 xiao3 zhi4

![唤醒词配置界面](./img/fec6cfc8.jpg)

**4. 双麦克风配置**

- CI-33T支持双麦克风配置
- 确认两个麦克风都已正确连接
- 双麦克风方案可以提高识别准确率

**注意事项：**

- 硬件连接是首要检查项，确保麦克风连接正确
- 授权提示不影响基本唤醒功能
- 如果是双麦克风版本，两个咪头都需要正确连接
- 硬件连接无误后仍无法唤醒，考虑重新烧录固件

---


---

### CI-33T模块烧录无反应如何解决？

**问题描述：**

在使用串口升级工具烧录CI-33T模块时，遇到下载无反应的问题，且不确定所用工具是否适用于该模块。

**解决方案：**

1. **确认烧录工具型号**
    - CI-33T需要使用CI130X系列烧录工具
    - 选择芯片系列：CI130X系列
    - 选择芯片型号：CI1303

2. **检查硬件连接**
    - 确认正确的串口号（COM7）
    - 确保TX/RX没有接反
    - 检查串口是否被其他程序占用

3. **烧录操作步骤**
    - 点击"固件升级"按钮
    - 选择正确的固件文件
    - 按复位按键或断电重启开始烧录

**注意事项：**

- 烧录时除了CH340，不能有其他地方给模块供电
- 确保使用正确的芯片型号和固件文件

![烧录工具设备列表](./img/cf5fcb8d.jpg)
![正确型号设置](./img/eb2cca7a.jpg)
![烧录进度界面](./img/d622fd94.jpg)


---

### CI-33T烧录接线说明

**串口烧录接线图**：

![CI-33T串口调试接线图](./img/a33f76b1.jpg)

**接线说明**：

- 使用UART1接口进行烧录（B6/B7引脚）
- CH340模块的TX连接到CI-33T的RX
- CH340模块的RX连接到CI-33T的TX
- 烧录时芯片型号选择CI1303
