# CI1302 平台与固件 FAQ

## 引脚控制复位/重启功能

**问题描述：**

是否可以通过引脚的上下拉来控制CI1302芯片的复位或重启功能？

**解决方案：**

CI1302支持通过多种方式实现复位和重启控制，包括芯片软复位和外部引脚控制。

**1. 复位控制方式**

**芯片软复位**：

- CI1302内置软复位功能
- 可通过特定命令或触发条件实现
- 不需要外部硬件干预

**外部引脚控制**：

- 支持外部引脚触发复位
- 可通过GPIO配置实现
- 需要在平台中进行相应设置

**2. 平台配置方法**

**第一步：配置GPIO引脚**

- 登录智能公元平台
- 进入CI1302项目配置
- 选择可用GPIO引脚
- 配置为输入模式，设置上下拉

**第二步：设置复位触发条件**

- 在控制配置中添加触发条件
- 选择"软复位"或"重启"操作
- 设置GPIO电平判断条件

**第三步：保存并生成固件**

- 检查配置完整性
- 保存项目配置
- 生成并下载新固件

**3. 配置示例**



这样将PA5引脚接地时，芯片会执行软复位操作。

**4. 应用场景**

- **外部按键复位**：通过按键实现系统复位
- **系统联动控制**：主控MCU控制CI1302复位
- **故障自动恢复**：检测电路异常后自动复位
- **节能管理**：定时复位释放资源

**5. 注意事项**

- **引脚选择**：

    - 确认所选GPIO支持输入功能
    - 避免使用多功能复用引脚
    - 参考芯片手册了解引脚限制

- **电路设计**：

    - 外部复位建议使用硬件去抖动
    - 考虑ESD保护措施
    - 避免频繁复位影响寿命

- **软件配合**：

    - 复位后需要重新初始化
    - 保存重要数据到非易失存储
    - 设置合理的复位间隔

## 固件生成失败问题





**问题描述：**
提交配置后，固件生成进度停滞，无法生成下载文件，提示"播报文件过多内存爆了"。

**问题原因：**

- 播报文件数量过多，导致编译时内存溢出
- CI1302 Pro模块对播报文件数量有限制

**解决方案：**

### 1. 删除部分播报文件
- 在工程配置的播报文件列表中，删除不必要的播报文件
- 优先保留核心功能所需的播报文件
- 考虑合并功能相似的播报内容

### 2. 重新生成固件
- 在固件生成页面，点击右侧"重新生成"按钮
- **重要**：在生成过程中不要刷新页面
- 耐心等待生成完成

### 3. 播报文件优化建议
- **精简播报内容**：使用更简洁的播报文本
- **复用播报文件**：相同内容使用同一个播报文件
- **分段播报**：将长内容拆分为多个短播报

## 使用注意事项

- **型号确认**：确保使用的是CI1302 Pro模型
- **文件数量限制**：根据实际需求合理配置播报文件数量
- **内存管理**：大型项目建议考虑外部存储方案
- **生成环境**：保持网络稳定，避免生成过程中断

## 相关配置

- 固件生成路径：智能公元平台 → 产品配置 → 固件生成
- 重新生成按钮位于固件生成页面的右侧
- 播报文件管理：在语音配置页面进行添加/删除操作